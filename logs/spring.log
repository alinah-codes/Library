2025-09-26 00:13:12 WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=5m52s872ms).
2025-09-26 00:32:26 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 00:32:26 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 00:32:26 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 00:32:26 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 00:32:29 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 00:32:35 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 9698 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 00:32:35 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 00:32:36 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 00:32:36 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 68 ms. Found 6 JPA repository interfaces.
2025-09-26 00:32:37 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 00:32:37 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 00:32:37 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 00:32:37 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 00:32:37 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1810 ms
2025-09-26 00:32:37 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 00:32:37 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 00:32:37 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 00:32:37 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 00:32:38 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 00:32:38 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_insert_tables.yaml
2025-09-26 00:32:38 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 00:32:38 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 00:32:38 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 00:32:38 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 00:32:38 INFO  liquibase.util - Run:                          0
2025-09-26 00:32:38 INFO  liquibase.util - Previously run:               2
2025-09-26 00:32:38 INFO  liquibase.util - Filtered out:                 0
2025-09-26 00:32:38 INFO  liquibase.util - -------------------------------
2025-09-26 00:32:38 INFO  liquibase.util - Total change sets:            2
2025-09-26 00:32:38 INFO  liquibase.util - Update summary generated
2025-09-26 00:32:38 INFO  liquibase.command - Command execution complete
2025-09-26 00:32:38 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 00:32:38 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 00:32:38 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 00:32:39 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 00:32:39 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 00:32:40 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 00:32:40 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 00:32:41 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 00:32:41 WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: d5f6c2ab-0732-417a-bfce-dfb7079f92dd

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-26 00:32:41 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 00:32:42 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 00:32:42 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 8.339 seconds (process running for 9.877)
2025-09-26 00:33:09 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 00:42:56 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 00:42:57 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 00:42:57 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 00:42:57 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 00:42:57 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 00:43:02 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 9884 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 00:43:02 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 00:43:03 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 00:43:03 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 72 ms. Found 6 JPA repository interfaces.
2025-09-26 00:43:04 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 00:43:04 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 00:43:04 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 00:43:04 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 00:43:04 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1684 ms
2025-09-26 00:43:04 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 00:43:04 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 00:43:04 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 00:43:04 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 00:43:05 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 00:43:05 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_insert_tables.yaml
2025-09-26 00:43:05 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 00:43:05 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 00:43:05 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 00:43:05 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 00:43:05 INFO  liquibase.util - Run:                          0
2025-09-26 00:43:05 INFO  liquibase.util - Previously run:               2
2025-09-26 00:43:05 INFO  liquibase.util - Filtered out:                 0
2025-09-26 00:43:05 INFO  liquibase.util - -------------------------------
2025-09-26 00:43:05 INFO  liquibase.util - Total change sets:            2
2025-09-26 00:43:05 INFO  liquibase.util - Update summary generated
2025-09-26 00:43:05 INFO  liquibase.command - Command execution complete
2025-09-26 00:43:05 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 00:43:05 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 00:43:05 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 00:43:06 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 00:43:06 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 00:43:07 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 00:43:07 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 00:43:08 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 00:43:08 WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 202050b3-b303-4688-bf9d-e8c2ae80105f

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-26 00:43:08 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 00:43:08 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 00:43:08 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 7.555 seconds (process running for 9.332)
2025-09-26 00:43:11 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 00:43:11 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 00:43:11 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 00:43:11 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 00:43:11 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 00:43:31 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 9902 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 00:43:31 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 00:43:32 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 00:43:32 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 99 ms. Found 6 JPA repository interfaces.
2025-09-26 00:43:33 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 00:43:33 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 00:43:33 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 00:43:33 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 00:43:33 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2269 ms
2025-09-26 00:43:33 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 00:43:34 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 00:43:34 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 00:43:34 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 00:43:34 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 00:43:34 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_insert_tables.yaml
2025-09-26 00:43:35 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 00:43:35 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 00:43:35 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 00:43:35 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 00:43:35 INFO  liquibase.util - Run:                          0
2025-09-26 00:43:35 INFO  liquibase.util - Previously run:               2
2025-09-26 00:43:35 INFO  liquibase.util - Filtered out:                 0
2025-09-26 00:43:35 INFO  liquibase.util - -------------------------------
2025-09-26 00:43:35 INFO  liquibase.util - Total change sets:            2
2025-09-26 00:43:35 INFO  liquibase.util - Update summary generated
2025-09-26 00:43:35 INFO  liquibase.command - Command execution complete
2025-09-26 00:43:35 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 00:43:35 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 00:43:35 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 00:43:36 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 00:43:36 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 00:43:38 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 00:43:38 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 00:43:38 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 00:43:38 WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 557c0b27-118a-4f84-9719-cafc6c843638

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-26 00:43:39 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 00:43:40 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 00:43:40 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 10.04 seconds (process running for 12.716)
2025-09-26 00:43:48 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 00:59:07 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 00:59:07 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 00:59:07 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 00:59:07 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 00:59:07 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 00:59:14 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 10158 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 00:59:14 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 00:59:15 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 00:59:15 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 93 ms. Found 6 JPA repository interfaces.
2025-09-26 00:59:16 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 00:59:16 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 00:59:16 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 00:59:16 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 00:59:16 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2221 ms
2025-09-26 00:59:16 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 00:59:17 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 00:59:17 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 00:59:17 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 00:59:17 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 00:59:17 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_insert_tables.yaml
2025-09-26 00:59:18 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 00:59:18 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 00:59:18 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 00:59:18 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 00:59:18 INFO  liquibase.util - Run:                          0
2025-09-26 00:59:18 INFO  liquibase.util - Previously run:               2
2025-09-26 00:59:18 INFO  liquibase.util - Filtered out:                 0
2025-09-26 00:59:18 INFO  liquibase.util - -------------------------------
2025-09-26 00:59:18 INFO  liquibase.util - Total change sets:            2
2025-09-26 00:59:18 INFO  liquibase.util - Update summary generated
2025-09-26 00:59:18 INFO  liquibase.command - Command execution complete
2025-09-26 00:59:18 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 00:59:18 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 00:59:18 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 00:59:19 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 00:59:19 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 00:59:20 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 00:59:20 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 00:59:21 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 00:59:21 WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 5e234a70-aa78-4c37-a787-9a0dabb21cf6

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-26 00:59:22 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 00:59:23 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 00:59:23 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 10.003 seconds (process running for 12.804)
2025-09-26 00:59:32 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 01:00:16 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 01:00:16 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 01:00:16 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 01:00:16 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 01:00:16 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 01:00:23 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 10195 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 01:00:23 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 01:00:24 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 01:00:24 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 132 ms. Found 6 JPA repository interfaces.
2025-09-26 01:00:25 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 01:00:25 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 01:00:25 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 01:00:25 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 01:00:25 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2626 ms
2025-09-26 01:00:26 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 01:00:26 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 01:00:26 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 01:00:26 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 01:00:27 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 01:00:27 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_insert_tables.yaml
2025-09-26 01:00:27 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 01:00:28 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 01:00:28 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 01:00:28 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 01:00:28 INFO  liquibase.util - Run:                          0
2025-09-26 01:00:28 INFO  liquibase.util - Previously run:               2
2025-09-26 01:00:28 INFO  liquibase.util - Filtered out:                 0
2025-09-26 01:00:28 INFO  liquibase.util - -------------------------------
2025-09-26 01:00:28 INFO  liquibase.util - Total change sets:            2
2025-09-26 01:00:28 INFO  liquibase.util - Update summary generated
2025-09-26 01:00:28 INFO  liquibase.command - Command execution complete
2025-09-26 01:00:28 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 01:00:28 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 01:00:28 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 01:00:29 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 01:00:29 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 01:00:31 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 01:00:31 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 01:00:31 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 01:00:31 WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: b6eb8cdc-3971-4841-b9e0-1bfca8b1f542

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-26 01:00:32 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 01:00:33 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 01:00:33 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 11.579 seconds (process running for 14.664)
2025-09-26 01:00:37 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 01:01:44 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 01:01:44 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 01:01:44 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 01:01:44 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 01:01:44 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 01:01:51 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 10231 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 01:01:51 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 01:01:52 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 01:01:52 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 98 ms. Found 6 JPA repository interfaces.
2025-09-26 01:01:53 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 01:01:53 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 01:01:53 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 01:01:54 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 01:01:54 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2367 ms
2025-09-26 01:01:54 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 01:01:54 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 01:01:54 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 01:01:54 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 01:01:55 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 01:01:55 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_insert_tables.yaml
2025-09-26 01:01:55 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 01:01:55 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 01:01:55 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 01:01:55 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 01:01:55 INFO  liquibase.util - Run:                          0
2025-09-26 01:01:55 INFO  liquibase.util - Previously run:               2
2025-09-26 01:01:55 INFO  liquibase.util - Filtered out:                 0
2025-09-26 01:01:55 INFO  liquibase.util - -------------------------------
2025-09-26 01:01:55 INFO  liquibase.util - Total change sets:            2
2025-09-26 01:01:55 INFO  liquibase.util - Update summary generated
2025-09-26 01:01:55 INFO  liquibase.command - Command execution complete
2025-09-26 01:01:56 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 01:01:56 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 01:01:56 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 01:01:56 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 01:01:56 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 01:01:58 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 01:01:58 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 01:01:59 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 01:01:59 WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 17f0f685-4426-4fa2-afcd-44c1051dc085

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-26 01:01:59 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 01:02:00 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 01:02:00 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 9.877 seconds (process running for 13.202)
2025-09-26 01:02:25 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 01:03:56 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 01:03:56 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 01:03:56 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 01:03:56 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 01:03:56 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 01:04:05 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 10280 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 01:04:05 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 01:04:06 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 01:04:06 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 96 ms. Found 6 JPA repository interfaces.
2025-09-26 01:04:07 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 01:04:07 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 01:04:07 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 01:04:07 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 01:04:07 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2240 ms
2025-09-26 01:04:07 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 01:04:08 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 01:04:08 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 01:04:08 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 01:04:09 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 01:04:09 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_insert_tables.yaml
2025-09-26 01:04:09 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 01:04:09 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 01:04:09 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 01:04:09 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 01:04:09 INFO  liquibase.util - Run:                          0
2025-09-26 01:04:09 INFO  liquibase.util - Previously run:               2
2025-09-26 01:04:09 INFO  liquibase.util - Filtered out:                 0
2025-09-26 01:04:09 INFO  liquibase.util - -------------------------------
2025-09-26 01:04:09 INFO  liquibase.util - Total change sets:            2
2025-09-26 01:04:09 INFO  liquibase.util - Update summary generated
2025-09-26 01:04:09 INFO  liquibase.command - Command execution complete
2025-09-26 01:04:09 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 01:04:10 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 01:04:10 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 01:04:10 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 01:04:10 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 01:04:12 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 01:04:12 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 01:04:13 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 01:04:13 WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 29e3ec8a-2efd-4cf7-9423-5a5c15f14572

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-26 01:04:13 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 01:04:15 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 01:04:15 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 11.822 seconds (process running for 16.061)
2025-09-26 01:04:18 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 01:06:12 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 01:06:12 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 01:06:12 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 01:06:13 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 01:06:13 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 01:06:20 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 10334 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 01:06:20 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 01:06:22 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 01:06:22 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 92 ms. Found 6 JPA repository interfaces.
2025-09-26 01:06:23 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 01:06:23 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 01:06:23 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 01:06:23 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 01:06:23 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2421 ms
2025-09-26 01:06:23 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 01:06:24 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 01:06:24 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 01:06:24 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 01:06:24 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 01:06:24 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_insert_tables.yaml
2025-09-26 01:06:24 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 01:06:25 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 01:06:25 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 01:06:25 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 01:06:25 INFO  liquibase.util - Run:                          0
2025-09-26 01:06:25 INFO  liquibase.util - Previously run:               2
2025-09-26 01:06:25 INFO  liquibase.util - Filtered out:                 0
2025-09-26 01:06:25 INFO  liquibase.util - -------------------------------
2025-09-26 01:06:25 INFO  liquibase.util - Total change sets:            2
2025-09-26 01:06:25 INFO  liquibase.util - Update summary generated
2025-09-26 01:06:25 INFO  liquibase.command - Command execution complete
2025-09-26 01:06:25 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 01:06:25 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 01:06:25 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 01:06:25 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 01:06:26 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 01:06:27 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 01:06:27 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 01:06:28 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 01:06:28 WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: b1903917-a4ed-4e1a-8db7-fd918df1bef9

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-26 01:06:28 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 01:06:29 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 01:06:29 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 9.725 seconds (process running for 13.276)
2025-09-26 01:06:36 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 01:07:58 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 01:07:58 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 01:07:58 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 01:07:58 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 01:07:58 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 01:08:05 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 10382 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 01:08:05 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 01:08:07 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 01:08:07 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 89 ms. Found 6 JPA repository interfaces.
2025-09-26 01:08:08 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 01:08:08 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 01:08:08 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 01:08:08 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 01:08:08 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2368 ms
2025-09-26 01:08:08 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 01:08:09 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 01:08:09 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 01:08:09 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 01:08:09 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 01:08:09 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_insert_tables.yaml
2025-09-26 01:08:09 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 01:08:10 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 01:08:10 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 01:08:10 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 01:08:10 INFO  liquibase.util - Run:                          0
2025-09-26 01:08:10 INFO  liquibase.util - Previously run:               2
2025-09-26 01:08:10 INFO  liquibase.util - Filtered out:                 0
2025-09-26 01:08:10 INFO  liquibase.util - -------------------------------
2025-09-26 01:08:10 INFO  liquibase.util - Total change sets:            2
2025-09-26 01:08:10 INFO  liquibase.util - Update summary generated
2025-09-26 01:08:10 INFO  liquibase.command - Command execution complete
2025-09-26 01:08:10 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 01:08:10 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 01:08:10 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 01:08:11 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 01:08:11 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 01:08:13 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 01:08:13 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 01:08:14 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 01:08:14 WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 78300715-56b7-4dbb-9971-16c2e5887b84

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-26 01:08:14 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 01:08:15 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 01:08:15 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 10.919 seconds (process running for 13.836)
2025-09-26 01:08:20 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 01:13:17 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 01:13:17 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 01:13:17 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 01:13:17 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 01:13:17 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 10:43:03 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 1190 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 10:43:03 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 10:43:05 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 10:43:05 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 72 ms. Found 6 JPA repository interfaces.
2025-09-26 10:43:06 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 10:43:06 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 10:43:06 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 10:43:06 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 10:43:06 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2263 ms
2025-09-26 10:43:06 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 10:43:07 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 10:43:07 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 10:43:07 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 10:43:07 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 10:43:07 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_insert_tables.yaml
2025-09-26 10:43:07 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 10:43:07 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 10:43:07 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 10:43:07 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 10:43:07 INFO  liquibase.util - Run:                          0
2025-09-26 10:43:07 INFO  liquibase.util - Previously run:               2
2025-09-26 10:43:07 INFO  liquibase.util - Filtered out:                 0
2025-09-26 10:43:07 INFO  liquibase.util - -------------------------------
2025-09-26 10:43:07 INFO  liquibase.util - Total change sets:            2
2025-09-26 10:43:07 INFO  liquibase.util - Update summary generated
2025-09-26 10:43:07 INFO  liquibase.command - Command execution complete
2025-09-26 10:43:08 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 10:43:08 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 10:43:08 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 10:43:08 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 10:43:09 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 10:43:10 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 10:43:10 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 10:43:11 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 10:43:11 WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 27d9b356-4bd7-4074-8f2b-be01696aa699

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-26 10:43:11 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 10:43:12 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 10:43:12 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 10.572 seconds (process running for 12.853)
2025-09-26 10:44:21 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 11:08:00 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 11:08:00 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 11:08:00 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 11:08:00 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 11:08:00 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 11:08:06 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 1792 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 11:08:06 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 11:08:07 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 11:08:07 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 86 ms. Found 6 JPA repository interfaces.
2025-09-26 11:08:09 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 11:08:09 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 11:08:09 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 11:08:09 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 11:08:09 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2432 ms
2025-09-26 11:08:09 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 11:08:09 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 11:08:09 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 11:08:10 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 11:08:10 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 11:08:10 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_insert_tables.yaml
2025-09-26 11:08:10 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_create_authorities.yaml
2025-09-26 11:08:10 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_roles_table.yaml
2025-09-26 11:08:10 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_alter_user_table.yaml
2025-09-26 11:08:10 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 11:08:11 INFO  liquibase.lockservice - Successfully acquired change log lock
2025-09-26 11:08:11 INFO  liquibase.command - Using deploymentId: 8863291313
2025-09-26 11:08:11 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 11:08:11 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/003_create_authorities.yaml::003_create_authorities::a-k-i-v-i
2025-09-26 11:08:11 INFO  liquibase.changelog - Table authorities created
2025-09-26 11:08:11 INFO  liquibase.changelog - ChangeSet db/changelog/migrations/003_create_authorities.yaml::003_create_authorities::a-k-i-v-i ran successfully in 9ms
2025-09-26 11:08:11 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/004_alter_roles_table.yaml::0::admin
2025-09-26 11:08:11 ERROR liquibase.changelog - ChangeSet db/changelog/migrations/004_alter_roles_table.yaml::0::admin encountered an exception.
liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_3_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:497)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:185)
	at liquibase.executor.AbstractExecutor.execute(AbstractExecutor.java:141)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1189)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:776)
	at liquibase.changelog.visitor.UpdateVisitor.executeAcceptedChange(UpdateVisitor.java:126)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:70)
	at liquibase.changelog.ChangeLogIterator.lambda$run$0(ChangeLogIterator.java:131)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.changelog.ChangeLogIterator.lambda$run$1(ChangeLogIterator.java:120)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.Scope.child(Scope.java:257)
	at liquibase.Scope.child(Scope.java:261)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:89)
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:114)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:112)
	at liquibase.command.core.UpdateCommandStep.run(UpdateCommandStep.java:105)
	at liquibase.command.CommandScope.execute(CommandScope.java:220)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:216)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.Liquibase.runInScope(Liquibase.java:1329)
	at liquibase.Liquibase.update(Liquibase.java:205)
	at liquibase.Liquibase.update(Liquibase.java:188)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:305)
	at liquibase.integration.spring.SpringLiquibase.lambda$afterPropertiesSet$0(SpringLiquibase.java:257)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.Scope.child(Scope.java:257)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:250)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at kg.attractor.library.LibraryApplication.main(LibraryApplication.java:10)
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_3_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:402)
	at org.h2.table.Table.convertInsertRow(Table.java:963)
	at org.h2.command.dml.Insert.addRow(Insert.java:229)
	at org.h2.command.dml.Insert.insertRows(Insert.java:203)
	at org.h2.command.dml.Insert.update(Insert.java:135)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandContainer.update(CommandContainer.java:139)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.command.ddl.AlterTableAlterColumn.execute(AlterTableAlterColumn.java:648)
	at org.h2.command.ddl.AlterTableAlterColumn.cloneTableStructure(AlterTableAlterColumn.java:560)
	at org.h2.command.ddl.AlterTableAlterColumn.copyData(AlterTableAlterColumn.java:343)
	at org.h2.command.ddl.AlterTableAlterColumn.update(AlterTableAlterColumn.java:244)
	at org.h2.command.CommandContainer.update(CommandContainer.java:139)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:491)
	... 63 common frames omitted
2025-09-26 11:08:11 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 11:08:11 INFO  liquibase.util - Run:                          1
2025-09-26 11:08:11 INFO  liquibase.util - Previously run:               2
2025-09-26 11:08:11 INFO  liquibase.util - Filtered out:                 0
2025-09-26 11:08:11 INFO  liquibase.util - -------------------------------
2025-09-26 11:08:11 INFO  liquibase.util - Total change sets:            5
2025-09-26 11:08:11 INFO  liquibase.util - Update summary generated
2025-09-26 11:08:11 INFO  liquibase.command - Update command encountered an exception.
2025-09-26 11:08:11 INFO  liquibase.lockservice - Successfully released change log lock
2025-09-26 11:08:11 INFO  liquibase.command - Logging exception.
2025-09-26 11:08:11 INFO  liquibase.ui - ERROR: Exception Details
2025-09-26 11:08:11 INFO  liquibase.ui - ERROR: Exception Primary Class:  JdbcSQLIntegrityConstraintViolationException
2025-09-26 11:08:11 INFO  liquibase.ui - ERROR: Exception Primary Reason:  Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_3_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232]
2025-09-26 11:08:11 INFO  liquibase.ui - ERROR: Exception Primary Source:  H2 2.3.232 (2024-08-11)
2025-09-26 11:08:11 INFO  liquibase.command - Command execution complete
2025-09-26 11:08:11 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/004_alter_roles_table.yaml::0::admin:
     Reason: liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_3_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
2025-09-26 11:08:11 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 11:08:11 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 11:08:11 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-09-26 11:08:11 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-09-26 11:08:11 ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/004_alter_roles_table.yaml::0::admin:
     Reason: liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_3_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at kg.attractor.library.LibraryApplication.main(LibraryApplication.java:10)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/004_alter_roles_table.yaml::0::admin:
     Reason: liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_3_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: liquibase.exception.UnexpectedLiquibaseException: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/004_alter_roles_table.yaml::0::admin:
     Reason: liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_3_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/004_alter_roles_table.yaml::0::admin:
     Reason: liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_3_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
	at liquibase.command.CommandScope.execute(CommandScope.java:258)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:216)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.Liquibase.runInScope(Liquibase.java:1329)
	at liquibase.Liquibase.update(Liquibase.java:205)
	at liquibase.Liquibase.update(Liquibase.java:188)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:305)
	at liquibase.integration.spring.SpringLiquibase.lambda$afterPropertiesSet$0(SpringLiquibase.java:257)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.Scope.child(Scope.java:257)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:250)
	... 19 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/004_alter_roles_table.yaml::0::admin:
     Reason: liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_3_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:148)
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:114)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:112)
	at liquibase.command.core.UpdateCommandStep.run(UpdateCommandStep.java:105)
	at liquibase.command.CommandScope.execute(CommandScope.java:220)
	... 35 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/004_alter_roles_table.yaml::0::admin:
     Reason: liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_3_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:820)
	at liquibase.changelog.visitor.UpdateVisitor.executeAcceptedChange(UpdateVisitor.java:126)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:70)
	at liquibase.changelog.ChangeLogIterator.lambda$run$0(ChangeLogIterator.java:131)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.changelog.ChangeLogIterator.lambda$run$1(ChangeLogIterator.java:120)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.Scope.child(Scope.java:257)
	at liquibase.Scope.child(Scope.java:261)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:89)
	... 43 common frames omitted
Caused by: liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_3_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:497)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:185)
	at liquibase.executor.AbstractExecutor.execute(AbstractExecutor.java:141)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1189)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:776)
	... 58 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_3_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:402)
	at org.h2.table.Table.convertInsertRow(Table.java:963)
	at org.h2.command.dml.Insert.addRow(Insert.java:229)
	at org.h2.command.dml.Insert.insertRows(Insert.java:203)
	at org.h2.command.dml.Insert.update(Insert.java:135)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandContainer.update(CommandContainer.java:139)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.command.ddl.AlterTableAlterColumn.execute(AlterTableAlterColumn.java:648)
	at org.h2.command.ddl.AlterTableAlterColumn.cloneTableStructure(AlterTableAlterColumn.java:560)
	at org.h2.command.ddl.AlterTableAlterColumn.copyData(AlterTableAlterColumn.java:343)
	at org.h2.command.ddl.AlterTableAlterColumn.update(AlterTableAlterColumn.java:244)
	at org.h2.command.CommandContainer.update(CommandContainer.java:139)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:491)
	... 63 common frames omitted
2025-09-26 11:08:58 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 1824 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 11:08:58 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 11:08:59 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 11:08:59 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 51 ms. Found 6 JPA repository interfaces.
2025-09-26 11:08:59 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 11:08:59 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 11:08:59 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 11:08:59 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 11:08:59 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1412 ms
2025-09-26 11:08:59 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 11:09:00 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 11:09:00 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 11:09:00 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 11:09:00 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 11:09:00 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_insert_tables.yaml
2025-09-26 11:09:00 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_create_authorities.yaml
2025-09-26 11:09:00 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_roles_table.yaml
2025-09-26 11:09:00 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_alter_user_table.yaml
2025-09-26 11:09:00 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 11:09:00 INFO  liquibase.lockservice - Successfully acquired change log lock
2025-09-26 11:09:00 INFO  liquibase.command - Using deploymentId: 8863340798
2025-09-26 11:09:00 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 11:09:00 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/004_alter_roles_table.yaml::004_alter_roles_table::admin
2025-09-26 11:09:00 ERROR liquibase.changelog - ChangeSet db/changelog/migrations/004_alter_roles_table.yaml::004_alter_roles_table::admin encountered an exception.
liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_3_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:497)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:185)
	at liquibase.executor.AbstractExecutor.execute(AbstractExecutor.java:141)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1189)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:776)
	at liquibase.changelog.visitor.UpdateVisitor.executeAcceptedChange(UpdateVisitor.java:126)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:70)
	at liquibase.changelog.ChangeLogIterator.lambda$run$0(ChangeLogIterator.java:131)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.changelog.ChangeLogIterator.lambda$run$1(ChangeLogIterator.java:120)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.Scope.child(Scope.java:257)
	at liquibase.Scope.child(Scope.java:261)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:89)
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:114)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:112)
	at liquibase.command.core.UpdateCommandStep.run(UpdateCommandStep.java:105)
	at liquibase.command.CommandScope.execute(CommandScope.java:220)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:216)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.Liquibase.runInScope(Liquibase.java:1329)
	at liquibase.Liquibase.update(Liquibase.java:205)
	at liquibase.Liquibase.update(Liquibase.java:188)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:305)
	at liquibase.integration.spring.SpringLiquibase.lambda$afterPropertiesSet$0(SpringLiquibase.java:257)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.Scope.child(Scope.java:257)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:250)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at kg.attractor.library.LibraryApplication.main(LibraryApplication.java:10)
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_3_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:402)
	at org.h2.table.Table.convertInsertRow(Table.java:963)
	at org.h2.command.dml.Insert.addRow(Insert.java:229)
	at org.h2.command.dml.Insert.insertRows(Insert.java:203)
	at org.h2.command.dml.Insert.update(Insert.java:135)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandContainer.update(CommandContainer.java:139)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.command.ddl.AlterTableAlterColumn.execute(AlterTableAlterColumn.java:648)
	at org.h2.command.ddl.AlterTableAlterColumn.cloneTableStructure(AlterTableAlterColumn.java:560)
	at org.h2.command.ddl.AlterTableAlterColumn.copyData(AlterTableAlterColumn.java:343)
	at org.h2.command.ddl.AlterTableAlterColumn.update(AlterTableAlterColumn.java:244)
	at org.h2.command.CommandContainer.update(CommandContainer.java:139)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:491)
	... 63 common frames omitted
2025-09-26 11:09:00 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 11:09:00 INFO  liquibase.util - Run:                          0
2025-09-26 11:09:00 INFO  liquibase.util - Previously run:               3
2025-09-26 11:09:00 INFO  liquibase.util - Filtered out:                 0
2025-09-26 11:09:00 INFO  liquibase.util - -------------------------------
2025-09-26 11:09:00 INFO  liquibase.util - Total change sets:            5
2025-09-26 11:09:00 INFO  liquibase.util - Update summary generated
2025-09-26 11:09:00 INFO  liquibase.command - Update command encountered an exception.
2025-09-26 11:09:00 INFO  liquibase.lockservice - Successfully released change log lock
2025-09-26 11:09:00 INFO  liquibase.command - Logging exception.
2025-09-26 11:09:00 INFO  liquibase.ui - ERROR: Exception Details
2025-09-26 11:09:00 INFO  liquibase.ui - ERROR: Exception Primary Class:  JdbcSQLIntegrityConstraintViolationException
2025-09-26 11:09:00 INFO  liquibase.ui - ERROR: Exception Primary Reason:  Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_3_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232]
2025-09-26 11:09:00 INFO  liquibase.ui - ERROR: Exception Primary Source:  H2 2.3.232 (2024-08-11)
2025-09-26 11:09:00 INFO  liquibase.command - Command execution complete
2025-09-26 11:09:00 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/004_alter_roles_table.yaml::004_alter_roles_table::admin:
     Reason: liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_3_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
2025-09-26 11:09:00 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 11:09:01 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 11:09:01 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-09-26 11:09:01 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-09-26 11:09:01 ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/004_alter_roles_table.yaml::004_alter_roles_table::admin:
     Reason: liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_3_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at kg.attractor.library.LibraryApplication.main(LibraryApplication.java:10)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/004_alter_roles_table.yaml::004_alter_roles_table::admin:
     Reason: liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_3_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: liquibase.exception.UnexpectedLiquibaseException: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/004_alter_roles_table.yaml::004_alter_roles_table::admin:
     Reason: liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_3_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/004_alter_roles_table.yaml::004_alter_roles_table::admin:
     Reason: liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_3_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
	at liquibase.command.CommandScope.execute(CommandScope.java:258)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:216)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.Liquibase.runInScope(Liquibase.java:1329)
	at liquibase.Liquibase.update(Liquibase.java:205)
	at liquibase.Liquibase.update(Liquibase.java:188)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:305)
	at liquibase.integration.spring.SpringLiquibase.lambda$afterPropertiesSet$0(SpringLiquibase.java:257)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.Scope.child(Scope.java:257)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:250)
	... 19 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/004_alter_roles_table.yaml::004_alter_roles_table::admin:
     Reason: liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_3_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:148)
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:114)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:112)
	at liquibase.command.core.UpdateCommandStep.run(UpdateCommandStep.java:105)
	at liquibase.command.CommandScope.execute(CommandScope.java:220)
	... 35 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/004_alter_roles_table.yaml::004_alter_roles_table::admin:
     Reason: liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_3_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:820)
	at liquibase.changelog.visitor.UpdateVisitor.executeAcceptedChange(UpdateVisitor.java:126)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:70)
	at liquibase.changelog.ChangeLogIterator.lambda$run$0(ChangeLogIterator.java:131)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.changelog.ChangeLogIterator.lambda$run$1(ChangeLogIterator.java:120)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.Scope.child(Scope.java:257)
	at liquibase.Scope.child(Scope.java:261)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:89)
	... 43 common frames omitted
Caused by: liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_3_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:497)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:185)
	at liquibase.executor.AbstractExecutor.execute(AbstractExecutor.java:141)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1189)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:776)
	... 58 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_3_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:402)
	at org.h2.table.Table.convertInsertRow(Table.java:963)
	at org.h2.command.dml.Insert.addRow(Insert.java:229)
	at org.h2.command.dml.Insert.insertRows(Insert.java:203)
	at org.h2.command.dml.Insert.update(Insert.java:135)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandContainer.update(CommandContainer.java:139)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.command.ddl.AlterTableAlterColumn.execute(AlterTableAlterColumn.java:648)
	at org.h2.command.ddl.AlterTableAlterColumn.cloneTableStructure(AlterTableAlterColumn.java:560)
	at org.h2.command.ddl.AlterTableAlterColumn.copyData(AlterTableAlterColumn.java:343)
	at org.h2.command.ddl.AlterTableAlterColumn.update(AlterTableAlterColumn.java:244)
	at org.h2.command.CommandContainer.update(CommandContainer.java:139)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:491)
	... 63 common frames omitted
2025-09-26 11:11:01 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 1861 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 11:11:01 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 11:11:02 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 11:11:02 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 61 ms. Found 6 JPA repository interfaces.
2025-09-26 11:11:03 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 11:11:03 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 11:11:03 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 11:11:03 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 11:11:03 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1539 ms
2025-09-26 11:11:03 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 11:11:03 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 11:11:03 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 11:11:03 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 11:11:04 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 11:11:04 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_insert_tables.yaml
2025-09-26 11:11:04 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_create_authorities.yaml
2025-09-26 11:11:04 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_roles_table.yaml
2025-09-26 11:11:04 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_alter_user_table.yaml
2025-09-26 11:11:04 INFO  liquibase.changelog - Creating database history table with name: PUBLIC.DATABASECHANGELOG
2025-09-26 11:11:04 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 11:11:04 INFO  liquibase.lockservice - Successfully acquired change log lock
2025-09-26 11:11:04 INFO  liquibase.command - Using deploymentId: 8863464650
2025-09-26 11:11:04 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 11:11:04 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/001_create_tables.yaml::001_create_tables::A-K-I-V-I
2025-09-26 11:11:04 INFO  liquibase.changelog - Table roles created
2025-09-26 11:11:04 INFO  liquibase.changelog - Table users created
2025-09-26 11:11:04 INFO  liquibase.changelog - Foreign key constraint added to users (role_id)
2025-09-26 11:11:04 INFO  liquibase.changelog - Table categories created
2025-09-26 11:11:04 INFO  liquibase.changelog - Table books created
2025-09-26 11:11:04 INFO  liquibase.changelog - Foreign key constraint added to books (category_id)
2025-09-26 11:11:04 INFO  liquibase.changelog - Table images created
2025-09-26 11:11:04 INFO  liquibase.changelog - Foreign key constraint added to images (book_id)
2025-09-26 11:11:04 INFO  liquibase.changelog - Table request created
2025-09-26 11:11:04 INFO  liquibase.changelog - Foreign key constraint added to request (user_id)
2025-09-26 11:11:04 INFO  liquibase.changelog - Foreign key constraint added to request (book_id)
2025-09-26 11:11:04 INFO  liquibase.changelog - ChangeSet db/changelog/migrations/001_create_tables.yaml::001_create_tables::A-K-I-V-I ran successfully in 71ms
2025-09-26 11:11:04 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/002_insert_tables.yaml::002_insert_initial_data::A-K-I-V-I
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into roles
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into roles
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into users
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into users
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:04 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:05 INFO  liquibase.changelog - ChangeSet db/changelog/migrations/002_insert_tables.yaml::002_insert_initial_data::A-K-I-V-I ran successfully in 390ms
2025-09-26 11:11:05 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/003_create_authorities.yaml::003_create_authorities::a-k-i-v-i
2025-09-26 11:11:05 ERROR liquibase.changelog - ChangeSet db/changelog/migrations/003_create_authorities.yaml::003_create_authorities::a-k-i-v-i encountered an exception.
liquibase.exception.DatabaseException: Таблица "AUTHORITIES" уже существует
Table "AUTHORITIES" already exists; SQL statement:
CREATE TABLE PUBLIC.authorities (id LONG GENERATED BY DEFAULT AS IDENTITY NOT NULL, authority VARCHAR(50), CONSTRAINT PK_AUTHORITIES PRIMARY KEY (id)) [42101-232] [Failed SQL: (42101) CREATE TABLE PUBLIC.authorities (id LONG GENERATED BY DEFAULT AS IDENTITY NOT NULL, authority VARCHAR(50), CONSTRAINT PK_AUTHORITIES PRIMARY KEY (id))]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:497)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:185)
	at liquibase.executor.AbstractExecutor.execute(AbstractExecutor.java:141)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1189)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:776)
	at liquibase.changelog.visitor.UpdateVisitor.executeAcceptedChange(UpdateVisitor.java:126)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:70)
	at liquibase.changelog.ChangeLogIterator.lambda$run$0(ChangeLogIterator.java:131)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.changelog.ChangeLogIterator.lambda$run$1(ChangeLogIterator.java:120)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.Scope.child(Scope.java:257)
	at liquibase.Scope.child(Scope.java:261)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:89)
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:114)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:112)
	at liquibase.command.core.UpdateCommandStep.run(UpdateCommandStep.java:105)
	at liquibase.command.CommandScope.execute(CommandScope.java:220)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:216)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.Liquibase.runInScope(Liquibase.java:1329)
	at liquibase.Liquibase.update(Liquibase.java:205)
	at liquibase.Liquibase.update(Liquibase.java:188)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:305)
	at liquibase.integration.spring.SpringLiquibase.lambda$afterPropertiesSet$0(SpringLiquibase.java:257)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.Scope.child(Scope.java:257)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:250)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at kg.attractor.library.LibraryApplication.main(LibraryApplication.java:10)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "AUTHORITIES" уже существует
Table "AUTHORITIES" already exists; SQL statement:
CREATE TABLE PUBLIC.authorities (id LONG GENERATED BY DEFAULT AS IDENTITY NOT NULL, authority VARCHAR(50), CONSTRAINT PK_AUTHORITIES PRIMARY KEY (id)) [42101-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.engine.SessionRemote.readSQLException(SessionRemote.java:663)
	at org.h2.engine.SessionRemote.readException(SessionRemote.java:646)
	at org.h2.engine.SessionRemote.done(SessionRemote.java:620)
	at org.h2.command.CommandRemote.executeUpdate(CommandRemote.java:225)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:491)
	... 63 common frames omitted
2025-09-26 11:11:05 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 11:11:05 INFO  liquibase.util - Run:                          2
2025-09-26 11:11:05 INFO  liquibase.util - Previously run:               0
2025-09-26 11:11:05 INFO  liquibase.util - Filtered out:                 0
2025-09-26 11:11:05 INFO  liquibase.util - -------------------------------
2025-09-26 11:11:05 INFO  liquibase.util - Total change sets:            5
2025-09-26 11:11:05 INFO  liquibase.util - Update summary generated
2025-09-26 11:11:05 INFO  liquibase.command - Update command encountered an exception.
2025-09-26 11:11:05 INFO  liquibase.lockservice - Successfully released change log lock
2025-09-26 11:11:05 INFO  liquibase.command - Logging exception.
2025-09-26 11:11:05 INFO  liquibase.ui - ERROR: Exception Details
2025-09-26 11:11:05 INFO  liquibase.ui - ERROR: Exception Primary Class:  JdbcSQLSyntaxErrorException
2025-09-26 11:11:05 INFO  liquibase.ui - ERROR: Exception Primary Reason:  Таблица "AUTHORITIES" уже существует
Table "AUTHORITIES" already exists; SQL statement:
CREATE TABLE PUBLIC.authorities (id LONG GENERATED BY DEFAULT AS IDENTITY NOT NULL, authority VARCHAR(50), CONSTRAINT PK_AUTHORITIES PRIMARY KEY (id)) [42101-232]
2025-09-26 11:11:05 INFO  liquibase.ui - ERROR: Exception Primary Source:  H2 2.3.232 (2024-08-11)
2025-09-26 11:11:05 INFO  liquibase.command - Command execution complete
2025-09-26 11:11:05 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/003_create_authorities.yaml::003_create_authorities::a-k-i-v-i:
     Reason: liquibase.exception.DatabaseException: Таблица "AUTHORITIES" уже существует
Table "AUTHORITIES" already exists; SQL statement:
CREATE TABLE PUBLIC.authorities (id LONG GENERATED BY DEFAULT AS IDENTITY NOT NULL, authority VARCHAR(50), CONSTRAINT PK_AUTHORITIES PRIMARY KEY (id)) [42101-232] [Failed SQL: (42101) CREATE TABLE PUBLIC.authorities (id LONG GENERATED BY DEFAULT AS IDENTITY NOT NULL, authority VARCHAR(50), CONSTRAINT PK_AUTHORITIES PRIMARY KEY (id))]
2025-09-26 11:11:05 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 11:11:05 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 11:11:05 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-09-26 11:11:05 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-09-26 11:11:05 ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/003_create_authorities.yaml::003_create_authorities::a-k-i-v-i:
     Reason: liquibase.exception.DatabaseException: Таблица "AUTHORITIES" уже существует
Table "AUTHORITIES" already exists; SQL statement:
CREATE TABLE PUBLIC.authorities (id LONG GENERATED BY DEFAULT AS IDENTITY NOT NULL, authority VARCHAR(50), CONSTRAINT PK_AUTHORITIES PRIMARY KEY (id)) [42101-232] [Failed SQL: (42101) CREATE TABLE PUBLIC.authorities (id LONG GENERATED BY DEFAULT AS IDENTITY NOT NULL, authority VARCHAR(50), CONSTRAINT PK_AUTHORITIES PRIMARY KEY (id))]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at kg.attractor.library.LibraryApplication.main(LibraryApplication.java:10)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/003_create_authorities.yaml::003_create_authorities::a-k-i-v-i:
     Reason: liquibase.exception.DatabaseException: Таблица "AUTHORITIES" уже существует
Table "AUTHORITIES" already exists; SQL statement:
CREATE TABLE PUBLIC.authorities (id LONG GENERATED BY DEFAULT AS IDENTITY NOT NULL, authority VARCHAR(50), CONSTRAINT PK_AUTHORITIES PRIMARY KEY (id)) [42101-232] [Failed SQL: (42101) CREATE TABLE PUBLIC.authorities (id LONG GENERATED BY DEFAULT AS IDENTITY NOT NULL, authority VARCHAR(50), CONSTRAINT PK_AUTHORITIES PRIMARY KEY (id))]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: liquibase.exception.UnexpectedLiquibaseException: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/003_create_authorities.yaml::003_create_authorities::a-k-i-v-i:
     Reason: liquibase.exception.DatabaseException: Таблица "AUTHORITIES" уже существует
Table "AUTHORITIES" already exists; SQL statement:
CREATE TABLE PUBLIC.authorities (id LONG GENERATED BY DEFAULT AS IDENTITY NOT NULL, authority VARCHAR(50), CONSTRAINT PK_AUTHORITIES PRIMARY KEY (id)) [42101-232] [Failed SQL: (42101) CREATE TABLE PUBLIC.authorities (id LONG GENERATED BY DEFAULT AS IDENTITY NOT NULL, authority VARCHAR(50), CONSTRAINT PK_AUTHORITIES PRIMARY KEY (id))]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/003_create_authorities.yaml::003_create_authorities::a-k-i-v-i:
     Reason: liquibase.exception.DatabaseException: Таблица "AUTHORITIES" уже существует
Table "AUTHORITIES" already exists; SQL statement:
CREATE TABLE PUBLIC.authorities (id LONG GENERATED BY DEFAULT AS IDENTITY NOT NULL, authority VARCHAR(50), CONSTRAINT PK_AUTHORITIES PRIMARY KEY (id)) [42101-232] [Failed SQL: (42101) CREATE TABLE PUBLIC.authorities (id LONG GENERATED BY DEFAULT AS IDENTITY NOT NULL, authority VARCHAR(50), CONSTRAINT PK_AUTHORITIES PRIMARY KEY (id))]
	at liquibase.command.CommandScope.execute(CommandScope.java:258)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:216)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.Liquibase.runInScope(Liquibase.java:1329)
	at liquibase.Liquibase.update(Liquibase.java:205)
	at liquibase.Liquibase.update(Liquibase.java:188)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:305)
	at liquibase.integration.spring.SpringLiquibase.lambda$afterPropertiesSet$0(SpringLiquibase.java:257)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.Scope.child(Scope.java:257)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:250)
	... 19 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/003_create_authorities.yaml::003_create_authorities::a-k-i-v-i:
     Reason: liquibase.exception.DatabaseException: Таблица "AUTHORITIES" уже существует
Table "AUTHORITIES" already exists; SQL statement:
CREATE TABLE PUBLIC.authorities (id LONG GENERATED BY DEFAULT AS IDENTITY NOT NULL, authority VARCHAR(50), CONSTRAINT PK_AUTHORITIES PRIMARY KEY (id)) [42101-232] [Failed SQL: (42101) CREATE TABLE PUBLIC.authorities (id LONG GENERATED BY DEFAULT AS IDENTITY NOT NULL, authority VARCHAR(50), CONSTRAINT PK_AUTHORITIES PRIMARY KEY (id))]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:148)
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:114)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:112)
	at liquibase.command.core.UpdateCommandStep.run(UpdateCommandStep.java:105)
	at liquibase.command.CommandScope.execute(CommandScope.java:220)
	... 35 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/003_create_authorities.yaml::003_create_authorities::a-k-i-v-i:
     Reason: liquibase.exception.DatabaseException: Таблица "AUTHORITIES" уже существует
Table "AUTHORITIES" already exists; SQL statement:
CREATE TABLE PUBLIC.authorities (id LONG GENERATED BY DEFAULT AS IDENTITY NOT NULL, authority VARCHAR(50), CONSTRAINT PK_AUTHORITIES PRIMARY KEY (id)) [42101-232] [Failed SQL: (42101) CREATE TABLE PUBLIC.authorities (id LONG GENERATED BY DEFAULT AS IDENTITY NOT NULL, authority VARCHAR(50), CONSTRAINT PK_AUTHORITIES PRIMARY KEY (id))]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:820)
	at liquibase.changelog.visitor.UpdateVisitor.executeAcceptedChange(UpdateVisitor.java:126)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:70)
	at liquibase.changelog.ChangeLogIterator.lambda$run$0(ChangeLogIterator.java:131)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.changelog.ChangeLogIterator.lambda$run$1(ChangeLogIterator.java:120)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.Scope.child(Scope.java:257)
	at liquibase.Scope.child(Scope.java:261)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:89)
	... 43 common frames omitted
Caused by: liquibase.exception.DatabaseException: Таблица "AUTHORITIES" уже существует
Table "AUTHORITIES" already exists; SQL statement:
CREATE TABLE PUBLIC.authorities (id LONG GENERATED BY DEFAULT AS IDENTITY NOT NULL, authority VARCHAR(50), CONSTRAINT PK_AUTHORITIES PRIMARY KEY (id)) [42101-232] [Failed SQL: (42101) CREATE TABLE PUBLIC.authorities (id LONG GENERATED BY DEFAULT AS IDENTITY NOT NULL, authority VARCHAR(50), CONSTRAINT PK_AUTHORITIES PRIMARY KEY (id))]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:497)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:185)
	at liquibase.executor.AbstractExecutor.execute(AbstractExecutor.java:141)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1189)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:776)
	... 58 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "AUTHORITIES" уже существует
Table "AUTHORITIES" already exists; SQL statement:
CREATE TABLE PUBLIC.authorities (id LONG GENERATED BY DEFAULT AS IDENTITY NOT NULL, authority VARCHAR(50), CONSTRAINT PK_AUTHORITIES PRIMARY KEY (id)) [42101-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.engine.SessionRemote.readSQLException(SessionRemote.java:663)
	at org.h2.engine.SessionRemote.readException(SessionRemote.java:646)
	at org.h2.engine.SessionRemote.done(SessionRemote.java:620)
	at org.h2.command.CommandRemote.executeUpdate(CommandRemote.java:225)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:491)
	... 63 common frames omitted
2025-09-26 11:11:39 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 1876 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 11:11:39 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 11:11:40 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 11:11:40 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 62 ms. Found 6 JPA repository interfaces.
2025-09-26 11:11:41 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 11:11:41 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 11:11:41 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 11:11:41 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 11:11:41 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1655 ms
2025-09-26 11:11:41 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 11:11:41 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 11:11:41 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 11:11:41 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 11:11:41 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 11:11:42 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_insert_tables.yaml
2025-09-26 11:11:42 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_create_authorities.yaml
2025-09-26 11:11:42 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_roles_table.yaml
2025-09-26 11:11:42 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_alter_user_table.yaml
2025-09-26 11:11:42 INFO  liquibase.changelog - Creating database history table with name: PUBLIC.DATABASECHANGELOG
2025-09-26 11:11:42 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 11:11:42 INFO  liquibase.lockservice - Successfully acquired change log lock
2025-09-26 11:11:42 INFO  liquibase.command - Using deploymentId: 8863502591
2025-09-26 11:11:42 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 11:11:42 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/001_create_tables.yaml::001_create_tables::A-K-I-V-I
2025-09-26 11:11:42 INFO  liquibase.changelog - Table roles created
2025-09-26 11:11:42 INFO  liquibase.changelog - Table users created
2025-09-26 11:11:42 INFO  liquibase.changelog - Foreign key constraint added to users (role_id)
2025-09-26 11:11:42 INFO  liquibase.changelog - Table categories created
2025-09-26 11:11:42 INFO  liquibase.changelog - Table books created
2025-09-26 11:11:42 INFO  liquibase.changelog - Foreign key constraint added to books (category_id)
2025-09-26 11:11:42 INFO  liquibase.changelog - Table images created
2025-09-26 11:11:42 INFO  liquibase.changelog - Foreign key constraint added to images (book_id)
2025-09-26 11:11:42 INFO  liquibase.changelog - Table request created
2025-09-26 11:11:42 INFO  liquibase.changelog - Foreign key constraint added to request (user_id)
2025-09-26 11:11:42 INFO  liquibase.changelog - Foreign key constraint added to request (book_id)
2025-09-26 11:11:42 INFO  liquibase.changelog - ChangeSet db/changelog/migrations/001_create_tables.yaml::001_create_tables::A-K-I-V-I ran successfully in 64ms
2025-09-26 11:11:42 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/002_insert_tables.yaml::002_insert_initial_data::A-K-I-V-I
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into roles
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into roles
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into users
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into users
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:42 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:11:43 INFO  liquibase.changelog - ChangeSet db/changelog/migrations/002_insert_tables.yaml::002_insert_initial_data::A-K-I-V-I ran successfully in 383ms
2025-09-26 11:11:43 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/003_create_authorities.yaml::003_create_authorities::a-k-i-v-i
2025-09-26 11:11:43 INFO  liquibase.changelog - Table authorities created
2025-09-26 11:11:43 INFO  liquibase.changelog - ChangeSet db/changelog/migrations/003_create_authorities.yaml::003_create_authorities::a-k-i-v-i ran successfully in 7ms
2025-09-26 11:11:43 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/004_alter_roles_table.yaml::004_alter_roles_table::admin
2025-09-26 11:11:43 ERROR liquibase.changelog - ChangeSet db/changelog/migrations/004_alter_roles_table.yaml::004_alter_roles_table::admin encountered an exception.
liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_17_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:497)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:185)
	at liquibase.executor.AbstractExecutor.execute(AbstractExecutor.java:141)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1189)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:776)
	at liquibase.changelog.visitor.UpdateVisitor.executeAcceptedChange(UpdateVisitor.java:126)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:70)
	at liquibase.changelog.ChangeLogIterator.lambda$run$0(ChangeLogIterator.java:131)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.changelog.ChangeLogIterator.lambda$run$1(ChangeLogIterator.java:120)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.Scope.child(Scope.java:257)
	at liquibase.Scope.child(Scope.java:261)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:89)
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:114)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:112)
	at liquibase.command.core.UpdateCommandStep.run(UpdateCommandStep.java:105)
	at liquibase.command.CommandScope.execute(CommandScope.java:220)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:216)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.Liquibase.runInScope(Liquibase.java:1329)
	at liquibase.Liquibase.update(Liquibase.java:205)
	at liquibase.Liquibase.update(Liquibase.java:188)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:305)
	at liquibase.integration.spring.SpringLiquibase.lambda$afterPropertiesSet$0(SpringLiquibase.java:257)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.Scope.child(Scope.java:257)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:250)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at kg.attractor.library.LibraryApplication.main(LibraryApplication.java:10)
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_17_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
	at org.h2.engine.SessionRemote.readSQLException(SessionRemote.java:663)
	at org.h2.engine.SessionRemote.readException(SessionRemote.java:646)
	at org.h2.engine.SessionRemote.done(SessionRemote.java:620)
	at org.h2.command.CommandRemote.executeUpdate(CommandRemote.java:225)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:491)
	... 63 common frames omitted
2025-09-26 11:11:43 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 11:11:43 INFO  liquibase.util - Run:                          3
2025-09-26 11:11:43 INFO  liquibase.util - Previously run:               0
2025-09-26 11:11:43 INFO  liquibase.util - Filtered out:                 0
2025-09-26 11:11:43 INFO  liquibase.util - -------------------------------
2025-09-26 11:11:43 INFO  liquibase.util - Total change sets:            5
2025-09-26 11:11:43 INFO  liquibase.util - Update summary generated
2025-09-26 11:11:43 INFO  liquibase.command - Update command encountered an exception.
2025-09-26 11:11:43 INFO  liquibase.lockservice - Successfully released change log lock
2025-09-26 11:11:43 INFO  liquibase.command - Logging exception.
2025-09-26 11:11:43 INFO  liquibase.ui - ERROR: Exception Details
2025-09-26 11:11:43 INFO  liquibase.ui - ERROR: Exception Primary Class:  JdbcSQLIntegrityConstraintViolationException
2025-09-26 11:11:43 INFO  liquibase.ui - ERROR: Exception Primary Reason:  Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_17_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232]
2025-09-26 11:11:43 INFO  liquibase.ui - ERROR: Exception Primary Source:  H2 2.3.232 (2024-08-11)
2025-09-26 11:11:43 INFO  liquibase.command - Command execution complete
2025-09-26 11:11:43 WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/004_alter_roles_table.yaml::004_alter_roles_table::admin:
     Reason: liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_17_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
2025-09-26 11:11:43 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 11:11:43 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 11:11:43 INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-09-26 11:11:43 INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-09-26 11:11:43 ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'liquibase' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/004_alter_roles_table.yaml::004_alter_roles_table::admin:
     Reason: liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_17_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at kg.attractor.library.LibraryApplication.main(LibraryApplication.java:10)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/004_alter_roles_table.yaml::004_alter_roles_table::admin:
     Reason: liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_17_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: liquibase.exception.UnexpectedLiquibaseException: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/004_alter_roles_table.yaml::004_alter_roles_table::admin:
     Reason: liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_17_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/004_alter_roles_table.yaml::004_alter_roles_table::admin:
     Reason: liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_17_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
	at liquibase.command.CommandScope.execute(CommandScope.java:258)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:216)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.Liquibase.runInScope(Liquibase.java:1329)
	at liquibase.Liquibase.update(Liquibase.java:205)
	at liquibase.Liquibase.update(Liquibase.java:188)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:305)
	at liquibase.integration.spring.SpringLiquibase.lambda$afterPropertiesSet$0(SpringLiquibase.java:257)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.Scope.child(Scope.java:257)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:250)
	... 19 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/004_alter_roles_table.yaml::004_alter_roles_table::admin:
     Reason: liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_17_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:148)
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:114)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:112)
	at liquibase.command.core.UpdateCommandStep.run(UpdateCommandStep.java:105)
	at liquibase.command.CommandScope.execute(CommandScope.java:220)
	... 35 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/migrations/004_alter_roles_table.yaml::004_alter_roles_table::admin:
     Reason: liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_17_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:820)
	at liquibase.changelog.visitor.UpdateVisitor.executeAcceptedChange(UpdateVisitor.java:126)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:70)
	at liquibase.changelog.ChangeLogIterator.lambda$run$0(ChangeLogIterator.java:131)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.changelog.ChangeLogIterator.lambda$run$1(ChangeLogIterator.java:120)
	at liquibase.Scope.lambda$child$0(Scope.java:191)
	at liquibase.Scope.child(Scope.java:200)
	at liquibase.Scope.child(Scope.java:190)
	at liquibase.Scope.child(Scope.java:169)
	at liquibase.Scope.child(Scope.java:257)
	at liquibase.Scope.child(Scope.java:261)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:89)
	... 43 common frames omitted
Caused by: liquibase.exception.DatabaseException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_17_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232] [Failed SQL: (23502) ALTER TABLE PUBLIC.roles ADD authority_id LONG NOT NULL]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:497)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:185)
	at liquibase.executor.AbstractExecutor.execute(AbstractExecutor.java:141)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1189)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:776)
	... 58 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Значение NULL не разрешено для поля "AUTHORITY_ID"
NULL not allowed for column "AUTHORITY_ID"; SQL statement:
INSERT INTO "PUBLIC"."ROLES_COPY_17_0"("ID", "ROLE_NAME") OVERRIDING SYSTEM VALUE SELECT "ID", "ROLE_NAME" FROM "PUBLIC"."ROLES" [23502-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
	at org.h2.engine.SessionRemote.readSQLException(SessionRemote.java:663)
	at org.h2.engine.SessionRemote.readException(SessionRemote.java:646)
	at org.h2.engine.SessionRemote.done(SessionRemote.java:620)
	at org.h2.command.CommandRemote.executeUpdate(CommandRemote.java:225)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:262)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:491)
	... 63 common frames omitted
2025-09-26 11:19:47 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 2100 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 11:19:47 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 11:19:48 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 11:19:48 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 90 ms. Found 6 JPA repository interfaces.
2025-09-26 11:19:48 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 11:19:48 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 11:19:48 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 11:19:48 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 11:19:48 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1807 ms
2025-09-26 11:19:49 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 11:19:49 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 11:19:49 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 11:19:49 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 11:19:49 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 11:19:49 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_create_authorities.yaml
2025-09-26 11:19:49 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_alter_roles_table.yaml
2025-09-26 11:19:49 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_user_table.yaml
2025-09-26 11:19:49 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_insert_auth_data.yaml
2025-09-26 11:19:49 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/006_insert_tables.yaml
2025-09-26 11:19:49 INFO  liquibase.changelog - Creating database history table with name: PUBLIC.DATABASECHANGELOG
2025-09-26 11:19:50 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 11:19:50 INFO  liquibase.lockservice - Successfully acquired change log lock
2025-09-26 11:19:50 INFO  liquibase.command - Using deploymentId: 8863990582
2025-09-26 11:19:50 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 11:19:50 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/001_create_tables.yaml::001_create_tables::A-K-I-V-I
2025-09-26 11:19:50 INFO  liquibase.changelog - Table roles created
2025-09-26 11:19:50 INFO  liquibase.changelog - Table users created
2025-09-26 11:19:50 INFO  liquibase.changelog - Foreign key constraint added to users (role_id)
2025-09-26 11:19:50 INFO  liquibase.changelog - Table categories created
2025-09-26 11:19:50 INFO  liquibase.changelog - Table books created
2025-09-26 11:19:50 INFO  liquibase.changelog - Foreign key constraint added to books (category_id)
2025-09-26 11:19:50 INFO  liquibase.changelog - Table images created
2025-09-26 11:19:50 INFO  liquibase.changelog - Foreign key constraint added to images (book_id)
2025-09-26 11:19:50 INFO  liquibase.changelog - Table request created
2025-09-26 11:19:50 INFO  liquibase.changelog - Foreign key constraint added to request (user_id)
2025-09-26 11:19:50 INFO  liquibase.changelog - Foreign key constraint added to request (book_id)
2025-09-26 11:19:50 INFO  liquibase.changelog - ChangeSet db/changelog/migrations/001_create_tables.yaml::001_create_tables::A-K-I-V-I ran successfully in 111ms
2025-09-26 11:19:50 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/002_create_authorities.yaml::002_create_authorities::a-k-i-v-i
2025-09-26 11:19:50 INFO  liquibase.changelog - Table authorities created
2025-09-26 11:19:50 INFO  liquibase.changelog - ChangeSet db/changelog/migrations/002_create_authorities.yaml::002_create_authorities::a-k-i-v-i ran successfully in 15ms
2025-09-26 11:19:50 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/003_alter_roles_table.yaml::003_alter_roles_table::admin
2025-09-26 11:19:50 INFO  liquibase.changelog - Columns authority_id(long) added to roles
2025-09-26 11:19:50 INFO  liquibase.changelog - ChangeSet db/changelog/migrations/003_alter_roles_table.yaml::003_alter_roles_table::admin ran successfully in 20ms
2025-09-26 11:19:50 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/004_alter_user_table.yaml::004_alter_user_table::A-K-I-V-I
2025-09-26 11:19:50 INFO  liquibase.changelog - Columns enabled(boolean) added to users
2025-09-26 11:19:50 INFO  liquibase.changelog - ChangeSet db/changelog/migrations/004_alter_user_table.yaml::004_alter_user_table::A-K-I-V-I ran successfully in 18ms
2025-09-26 11:19:50 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/005_insert_auth_data.yaml::005_insert_auth_data::a-k-i-v-i
2025-09-26 11:19:50 INFO  liquibase.changelog - Custom SQL executed
2025-09-26 11:19:50 INFO  liquibase.changelog - Custom SQL executed
2025-09-26 11:19:50 INFO  liquibase.changelog - ChangeSet db/changelog/migrations/005_insert_auth_data.yaml::005_insert_auth_data::a-k-i-v-i ran successfully in 27ms
2025-09-26 11:19:51 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/006_insert_tables.yaml::006_insert_initial_data::A-K-I-V-I
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into users
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into users
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:19:51 INFO  liquibase.changelog - ChangeSet db/changelog/migrations/006_insert_tables.yaml::006_insert_initial_data::A-K-I-V-I ran successfully in 575ms
2025-09-26 11:19:51 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 11:19:51 INFO  liquibase.util - Run:                          6
2025-09-26 11:19:51 INFO  liquibase.util - Previously run:               0
2025-09-26 11:19:51 INFO  liquibase.util - Filtered out:                 0
2025-09-26 11:19:51 INFO  liquibase.util - -------------------------------
2025-09-26 11:19:51 INFO  liquibase.util - Total change sets:            6
2025-09-26 11:19:51 INFO  liquibase.util - Update summary generated
2025-09-26 11:19:51 INFO  liquibase.command - Update command completed successfully.
2025-09-26 11:19:51 INFO  liquibase.ui - Liquibase: Update has been successful. Rows affected: 84
2025-09-26 11:19:51 INFO  liquibase.lockservice - Successfully released change log lock
2025-09-26 11:19:51 INFO  liquibase.command - Command execution complete
2025-09-26 11:19:52 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 11:19:52 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 11:19:52 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 11:19:52 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 11:19:53 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 11:19:54 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 11:19:54 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 11:19:55 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 11:19:55 WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 0729bd02-7b1f-418b-8e77-ff04be064a95

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-26 11:19:55 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 11:19:56 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 11:19:56 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 10.123 seconds (process running for 11.847)
2025-09-26 11:23:32 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 11:23:32 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 11:23:32 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 11:23:32 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 11:23:32 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 11:23:41 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 2233 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 11:23:41 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 11:23:42 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 11:23:42 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 75 ms. Found 6 JPA repository interfaces.
2025-09-26 11:23:43 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 11:23:43 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 11:23:43 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 11:23:43 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 11:23:43 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1768 ms
2025-09-26 11:23:43 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 11:23:43 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 11:23:43 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 11:23:43 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 11:23:44 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 11:23:44 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_create_authorities.yaml
2025-09-26 11:23:44 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_alter_roles_table.yaml
2025-09-26 11:23:44 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_user_table.yaml
2025-09-26 11:23:44 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_insert_auth_data.yaml
2025-09-26 11:23:44 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/006_insert_tables.yaml
2025-09-26 11:23:44 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 11:23:44 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 11:23:44 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 11:23:44 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 11:23:44 INFO  liquibase.util - Run:                          0
2025-09-26 11:23:44 INFO  liquibase.util - Previously run:               6
2025-09-26 11:23:44 INFO  liquibase.util - Filtered out:                 0
2025-09-26 11:23:44 INFO  liquibase.util - -------------------------------
2025-09-26 11:23:44 INFO  liquibase.util - Total change sets:            6
2025-09-26 11:23:44 INFO  liquibase.util - Update summary generated
2025-09-26 11:23:44 INFO  liquibase.command - Command execution complete
2025-09-26 11:23:44 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 11:23:44 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 11:23:45 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 11:23:45 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 11:23:45 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 11:23:47 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 11:23:47 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 11:23:47 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 11:23:47 WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: f57bb082-dad6-4e2d-acff-dc047fee71d3

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-26 11:23:48 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 11:23:48 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 11:23:48 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 8.573 seconds (process running for 9.951)
2025-09-26 11:24:41 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 11:26:30 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 11:26:30 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 11:26:30 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 11:26:30 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 11:26:30 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 11:26:38 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 2324 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 11:26:38 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 11:26:40 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 11:26:40 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 172 ms. Found 6 JPA repository interfaces.
2025-09-26 11:26:42 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 11:26:42 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 11:26:42 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 11:26:42 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 11:26:42 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3437 ms
2025-09-26 11:26:42 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 11:26:42 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 11:26:42 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 11:26:42 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 11:26:43 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 11:26:43 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_create_authorities.yaml
2025-09-26 11:26:43 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_alter_roles_table.yaml
2025-09-26 11:26:43 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_user_table.yaml
2025-09-26 11:26:43 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_insert_auth_data.yaml
2025-09-26 11:26:43 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/006_insert_tables.yaml
2025-09-26 11:26:43 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 11:26:44 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 11:26:44 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 11:26:44 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 11:26:44 INFO  liquibase.util - Run:                          0
2025-09-26 11:26:44 INFO  liquibase.util - Previously run:               6
2025-09-26 11:26:44 INFO  liquibase.util - Filtered out:                 0
2025-09-26 11:26:44 INFO  liquibase.util - -------------------------------
2025-09-26 11:26:44 INFO  liquibase.util - Total change sets:            6
2025-09-26 11:26:44 INFO  liquibase.util - Update summary generated
2025-09-26 11:26:44 INFO  liquibase.command - Command execution complete
2025-09-26 11:26:44 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 11:26:44 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 11:26:44 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 11:26:44 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 11:26:45 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 11:26:46 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 11:26:46 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 11:26:47 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 11:26:47 WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 28b3a551-c159-4a5f-bb9c-ab3d0597d298

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-26 11:26:47 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 11:26:48 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 11:26:48 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 12.516 seconds (process running for 14.804)
2025-09-26 11:26:51 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 11:27:55 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 11:27:55 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 11:27:55 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 11:27:55 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 11:27:55 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 11:28:00 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 2359 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 11:28:00 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 11:28:02 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 11:28:02 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 84 ms. Found 6 JPA repository interfaces.
2025-09-26 11:28:02 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 11:28:02 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 11:28:02 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 11:28:03 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 11:28:03 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1916 ms
2025-09-26 11:28:03 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 11:28:03 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 11:28:03 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 11:28:03 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 11:28:03 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 11:28:03 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_create_authorities.yaml
2025-09-26 11:28:03 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_alter_roles_table.yaml
2025-09-26 11:28:03 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_user_table.yaml
2025-09-26 11:28:03 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_insert_auth_data.yaml
2025-09-26 11:28:04 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/006_insert_tables.yaml
2025-09-26 11:28:04 INFO  liquibase.changelog - Creating database history table with name: PUBLIC.DATABASECHANGELOG
2025-09-26 11:28:04 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 11:28:04 INFO  liquibase.lockservice - Successfully acquired change log lock
2025-09-26 11:28:04 INFO  liquibase.command - Using deploymentId: 8864484673
2025-09-26 11:28:04 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 11:28:04 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/001_create_tables.yaml::001_create_tables::A-K-I-V-I
2025-09-26 11:28:04 INFO  liquibase.changelog - Table roles created
2025-09-26 11:28:04 INFO  liquibase.changelog - Table users created
2025-09-26 11:28:04 INFO  liquibase.changelog - Foreign key constraint added to users (role_id)
2025-09-26 11:28:04 INFO  liquibase.changelog - Table categories created
2025-09-26 11:28:04 INFO  liquibase.changelog - Table books created
2025-09-26 11:28:04 INFO  liquibase.changelog - Foreign key constraint added to books (category_id)
2025-09-26 11:28:04 INFO  liquibase.changelog - Table images created
2025-09-26 11:28:04 INFO  liquibase.changelog - Foreign key constraint added to images (book_id)
2025-09-26 11:28:04 INFO  liquibase.changelog - Table request created
2025-09-26 11:28:04 INFO  liquibase.changelog - Foreign key constraint added to request (user_id)
2025-09-26 11:28:04 INFO  liquibase.changelog - Foreign key constraint added to request (book_id)
2025-09-26 11:28:04 INFO  liquibase.changelog - ChangeSet db/changelog/migrations/001_create_tables.yaml::001_create_tables::A-K-I-V-I ran successfully in 65ms
2025-09-26 11:28:04 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/002_create_authorities.yaml::002_create_authorities::a-k-i-v-i
2025-09-26 11:28:04 INFO  liquibase.changelog - Table authorities created
2025-09-26 11:28:04 INFO  liquibase.changelog - ChangeSet db/changelog/migrations/002_create_authorities.yaml::002_create_authorities::a-k-i-v-i ran successfully in 10ms
2025-09-26 11:28:04 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/003_alter_roles_table.yaml::003_alter_roles_table::admin
2025-09-26 11:28:04 INFO  liquibase.changelog - Columns authority_id(long) added to roles
2025-09-26 11:28:04 INFO  liquibase.changelog - ChangeSet db/changelog/migrations/003_alter_roles_table.yaml::003_alter_roles_table::admin ran successfully in 23ms
2025-09-26 11:28:04 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/004_alter_user_table.yaml::004_alter_user_table::A-K-I-V-I
2025-09-26 11:28:04 INFO  liquibase.changelog - Columns enabled(boolean) added to users
2025-09-26 11:28:04 INFO  liquibase.changelog - ChangeSet db/changelog/migrations/004_alter_user_table.yaml::004_alter_user_table::A-K-I-V-I ran successfully in 23ms
2025-09-26 11:28:04 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/005_insert_auth_data.yaml::005_insert_auth_data::a-k-i-v-i
2025-09-26 11:28:04 INFO  liquibase.changelog - Custom SQL executed
2025-09-26 11:28:04 INFO  liquibase.changelog - Custom SQL executed
2025-09-26 11:28:04 INFO  liquibase.changelog - ChangeSet db/changelog/migrations/005_insert_auth_data.yaml::005_insert_auth_data::a-k-i-v-i ran successfully in 29ms
2025-09-26 11:28:05 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/006_insert_tables.yaml::006_insert_initial_data::A-K-I-V-I
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into users
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into users
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into books
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - New row inserted into images
2025-09-26 11:28:05 INFO  liquibase.changelog - ChangeSet db/changelog/migrations/006_insert_tables.yaml::006_insert_initial_data::A-K-I-V-I ran successfully in 414ms
2025-09-26 11:28:05 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 11:28:05 INFO  liquibase.util - Run:                          6
2025-09-26 11:28:05 INFO  liquibase.util - Previously run:               0
2025-09-26 11:28:05 INFO  liquibase.util - Filtered out:                 0
2025-09-26 11:28:05 INFO  liquibase.util - -------------------------------
2025-09-26 11:28:05 INFO  liquibase.util - Total change sets:            6
2025-09-26 11:28:05 INFO  liquibase.util - Update summary generated
2025-09-26 11:28:05 INFO  liquibase.command - Update command completed successfully.
2025-09-26 11:28:05 INFO  liquibase.ui - Liquibase: Update has been successful. Rows affected: 84
2025-09-26 11:28:05 INFO  liquibase.lockservice - Successfully released change log lock
2025-09-26 11:28:05 INFO  liquibase.command - Command execution complete
2025-09-26 11:28:05 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 11:28:05 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 11:28:05 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 11:28:06 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 11:28:06 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 11:28:08 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 11:28:08 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 11:28:08 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 11:28:08 WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 007c19e6-070c-4697-a8b7-c71d0cc92b95

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-26 11:28:08 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 11:28:09 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 11:28:09 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 10.326 seconds (process running for 12.301)
2025-09-26 11:28:22 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 11:51:29 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 11:51:29 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 11:51:29 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 11:51:29 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 11:51:30 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 11:51:39 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 2933 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 11:51:39 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 11:51:40 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 11:51:40 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 73 ms. Found 6 JPA repository interfaces.
2025-09-26 11:51:41 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 11:51:41 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 11:51:41 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 11:51:41 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 11:51:41 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1854 ms
2025-09-26 11:51:41 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 11:51:41 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 11:51:41 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 11:51:41 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 11:51:42 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 11:51:42 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_create_authorities.yaml
2025-09-26 11:51:42 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_alter_roles_table.yaml
2025-09-26 11:51:42 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_user_table.yaml
2025-09-26 11:51:42 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_insert_auth_data.yaml
2025-09-26 11:51:42 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/006_insert_tables.yaml
2025-09-26 11:51:42 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 11:51:42 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 11:51:42 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 11:51:42 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 11:51:42 INFO  liquibase.util - Run:                          0
2025-09-26 11:51:42 INFO  liquibase.util - Previously run:               6
2025-09-26 11:51:42 INFO  liquibase.util - Filtered out:                 0
2025-09-26 11:51:42 INFO  liquibase.util - -------------------------------
2025-09-26 11:51:42 INFO  liquibase.util - Total change sets:            6
2025-09-26 11:51:42 INFO  liquibase.util - Update summary generated
2025-09-26 11:51:43 INFO  liquibase.command - Command execution complete
2025-09-26 11:51:43 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 11:51:43 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 11:51:43 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 11:51:43 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 11:51:43 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 11:51:45 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 11:51:45 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 11:51:46 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 11:51:46 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 11:51:47 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 11:51:47 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 8.917 seconds (process running for 10.572)
2025-09-26 11:51:53 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 11:52:24 ERROR o.s.s.w.a.UsernamePasswordAuthenticationFilter - An internal error occurred while trying to authenticate the user.
org.springframework.security.authentication.InternalAuthenticationServiceException: Cannot invoke "kg.attractor.library.repository.UserRepository.findByPassportNumber(String)" because "this.userRepository" is null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:136)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:136)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:214)
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:87)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:134)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.lang.NullPointerException: Cannot invoke "kg.attractor.library.repository.UserRepository.findByPassportNumber(String)" because "this.userRepository" is null
	at kg.attractor.library.service.impl.UserServiceImpl.loadUserByUsername(UserServiceImpl.java:21)
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:121)
	... 73 common frames omitted
2025-09-26 11:59:00 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 11:59:00 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 11:59:00 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 11:59:00 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 11:59:00 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 11:59:11 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 3123 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 11:59:11 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 11:59:13 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 11:59:13 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 88 ms. Found 6 JPA repository interfaces.
2025-09-26 11:59:14 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 11:59:14 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 11:59:14 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 11:59:14 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 11:59:14 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3021 ms
2025-09-26 11:59:15 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 11:59:15 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 11:59:15 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 11:59:15 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 11:59:16 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 11:59:16 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_create_authorities.yaml
2025-09-26 11:59:16 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_alter_roles_table.yaml
2025-09-26 11:59:16 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_user_table.yaml
2025-09-26 11:59:16 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_insert_auth_data.yaml
2025-09-26 11:59:16 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/006_insert_tables.yaml
2025-09-26 11:59:17 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 11:59:17 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 11:59:17 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 11:59:17 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 11:59:17 INFO  liquibase.util - Run:                          0
2025-09-26 11:59:17 INFO  liquibase.util - Previously run:               6
2025-09-26 11:59:17 INFO  liquibase.util - Filtered out:                 0
2025-09-26 11:59:17 INFO  liquibase.util - -------------------------------
2025-09-26 11:59:17 INFO  liquibase.util - Total change sets:            6
2025-09-26 11:59:17 INFO  liquibase.util - Update summary generated
2025-09-26 11:59:17 INFO  liquibase.command - Command execution complete
2025-09-26 11:59:17 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 11:59:17 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 11:59:17 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 11:59:19 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 11:59:19 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 11:59:22 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 11:59:22 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 11:59:22 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 11:59:23 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 11:59:24 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 11:59:24 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 14.367 seconds (process running for 16.427)
2025-09-26 12:00:01 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 12:00:01 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 12:00:01 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 12:00:01 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 12:00:01 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 12:00:09 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 3150 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 12:00:09 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 12:00:10 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 12:00:10 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 62 ms. Found 6 JPA repository interfaces.
2025-09-26 12:00:11 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 12:00:11 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 12:00:11 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 12:00:11 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 12:00:11 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1825 ms
2025-09-26 12:00:11 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 12:00:11 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 12:00:11 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 12:00:11 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 12:00:12 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 12:00:12 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_create_authorities.yaml
2025-09-26 12:00:12 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_alter_roles_table.yaml
2025-09-26 12:00:12 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_user_table.yaml
2025-09-26 12:00:12 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_insert_auth_data.yaml
2025-09-26 12:00:12 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/006_insert_tables.yaml
2025-09-26 12:00:12 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 12:00:12 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 12:00:12 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 12:00:12 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 12:00:12 INFO  liquibase.util - Run:                          0
2025-09-26 12:00:12 INFO  liquibase.util - Previously run:               6
2025-09-26 12:00:12 INFO  liquibase.util - Filtered out:                 0
2025-09-26 12:00:12 INFO  liquibase.util - -------------------------------
2025-09-26 12:00:12 INFO  liquibase.util - Total change sets:            6
2025-09-26 12:00:12 INFO  liquibase.util - Update summary generated
2025-09-26 12:00:12 INFO  liquibase.command - Command execution complete
2025-09-26 12:00:12 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 12:00:12 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 12:00:12 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 12:00:13 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 12:00:13 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 12:00:15 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 12:00:15 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 12:00:15 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 12:00:15 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 12:00:17 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 12:00:17 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 9.365 seconds (process running for 10.618)
2025-09-26 12:00:27 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 12:01:09 ERROR freemarker.runtime - Error executing FreeMarker template
freemarker.core._TemplateModelException: Java method "org.springframework.web.servlet.support.RequestContext.getMessage(String)" threw an exception when invoked on org.springframework.web.servlet.support.RequestContext object "org.springframework.web.servlet.support.RequestContext@276a8a33"; see cause exception in the Java stack trace.

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${springMacroRequestContext.getMessag...  [in template "spring.ftl" in macro "message" at line 28, column 22]
	- Reached through: @spring.message "register.title"  [in template "auth/register.ftlh" at line 35, column 77]
	~ Reached through: #nested spring  [in template "layout.ftlh" in macro "layout" at line 66, column 9]
	~ Reached through: @main.layout; spring  [in template "auth/register.ftlh" at line 2, column 1]
----
	at freemarker.ext.beans._MethodUtil.newInvocationTemplateModelException(_MethodUtil.java:292)
	at freemarker.ext.beans._MethodUtil.newInvocationTemplateModelException(_MethodUtil.java:264)
	at freemarker.ext.beans.OverloadedMethodsModel.exec(OverloadedMethodsModel.java:66)
	at freemarker.core.MethodCall._eval(MethodCall.java:62)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.BuiltInsForOutputFormatRelated$AbstractConverterBI.calculateResult(BuiltInsForOutputFormatRelated.java:50)
	at freemarker.core.MarkupOutputFormatBoundBuiltIn._eval(MarkupOutputFormatBoundBuiltIn.java:40)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:380)
	at freemarker.core.Environment.invokeMacroOrFunctionCommonPart(Environment.java:886)
	at freemarker.core.Environment.invokeMacro(Environment.java:822)
	at freemarker.core.UnifiedCall.accept(UnifiedCall.java:83)
	at freemarker.core.Environment.visit(Environment.java:380)
	at freemarker.core.Environment.invokeNestedContent(Environment.java:630)
	at freemarker.core.BodyInstruction.accept(BodyInstruction.java:60)
	at freemarker.core.Environment.visit(Environment.java:380)
	at freemarker.core.Environment.invokeMacroOrFunctionCommonPart(Environment.java:886)
	at freemarker.core.Environment.invokeMacro(Environment.java:822)
	at freemarker.core.UnifiedCall.accept(UnifiedCall.java:83)
	at freemarker.core.Environment.visit(Environment.java:344)
	at freemarker.core.Environment.visit(Environment.java:350)
	at freemarker.core.Environment.process(Environment.java:323)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:447)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:351)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:302)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: org.springframework.context.NoSuchMessageException: No message found under code 'register.title' for locale 'ru_RU'.
	at org.springframework.context.support.DelegatingMessageSource.getMessage(DelegatingMessageSource.java:80)
	at org.springframework.context.support.AbstractApplicationContext.getMessage(AbstractApplicationContext.java:1511)
	at org.springframework.web.servlet.support.RequestContext.getMessage(RequestContext.java:714)
	at org.springframework.web.servlet.support.RequestContext.getMessage(RequestContext.java:680)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at freemarker.ext.beans.BeansWrapper.invokeMethod(BeansWrapper.java:1634)
	at freemarker.ext.beans.ReflectionCallableMemberDescriptor.invokeMethod(ReflectionCallableMemberDescriptor.java:56)
	at freemarker.ext.beans.MemberAndArguments.invokeMethod(MemberAndArguments.java:51)
	at freemarker.ext.beans.OverloadedMethodsModel.exec(OverloadedMethodsModel.java:62)
	... 130 common frames omitted
2025-09-26 12:01:09 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: freemarker.core._TemplateModelException: Java method "org.springframework.web.servlet.support.RequestContext.getMessage(String)" threw an exception when invoked on org.springframework.web.servlet.support.RequestContext object "org.springframework.web.servlet.support.RequestContext@276a8a33"; see cause exception in the Java stack trace.

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${springMacroRequestContext.getMessag...  [in template "spring.ftl" in macro "message" at line 28, column 22]
	- Reached through: @spring.message "register.title"  [in template "auth/register.ftlh" at line 35, column 77]
	~ Reached through: #nested spring  [in template "layout.ftlh" in macro "layout" at line 66, column 9]
	~ Reached through: @main.layout; spring  [in template "auth/register.ftlh" at line 2, column 1]
----] with root cause
org.springframework.context.NoSuchMessageException: No message found under code 'register.title' for locale 'ru_RU'.
	at org.springframework.context.support.DelegatingMessageSource.getMessage(DelegatingMessageSource.java:80)
	at org.springframework.context.support.AbstractApplicationContext.getMessage(AbstractApplicationContext.java:1511)
	at org.springframework.web.servlet.support.RequestContext.getMessage(RequestContext.java:714)
	at org.springframework.web.servlet.support.RequestContext.getMessage(RequestContext.java:680)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at freemarker.ext.beans.BeansWrapper.invokeMethod(BeansWrapper.java:1634)
	at freemarker.ext.beans.ReflectionCallableMemberDescriptor.invokeMethod(ReflectionCallableMemberDescriptor.java:56)
	at freemarker.ext.beans.MemberAndArguments.invokeMethod(MemberAndArguments.java:51)
	at freemarker.ext.beans.OverloadedMethodsModel.exec(OverloadedMethodsModel.java:62)
	at freemarker.core.MethodCall._eval(MethodCall.java:62)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.BuiltInsForOutputFormatRelated$AbstractConverterBI.calculateResult(BuiltInsForOutputFormatRelated.java:50)
	at freemarker.core.MarkupOutputFormatBoundBuiltIn._eval(MarkupOutputFormatBoundBuiltIn.java:40)
	at freemarker.core.Expression.eval(Expression.java:101)
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104)
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63)
	at freemarker.core.Environment.visit(Environment.java:380)
	at freemarker.core.Environment.invokeMacroOrFunctionCommonPart(Environment.java:886)
	at freemarker.core.Environment.invokeMacro(Environment.java:822)
	at freemarker.core.UnifiedCall.accept(UnifiedCall.java:83)
	at freemarker.core.Environment.visit(Environment.java:380)
	at freemarker.core.Environment.invokeNestedContent(Environment.java:630)
	at freemarker.core.BodyInstruction.accept(BodyInstruction.java:60)
	at freemarker.core.Environment.visit(Environment.java:380)
	at freemarker.core.Environment.invokeMacroOrFunctionCommonPart(Environment.java:886)
	at freemarker.core.Environment.invokeMacro(Environment.java:822)
	at freemarker.core.UnifiedCall.accept(UnifiedCall.java:83)
	at freemarker.core.Environment.visit(Environment.java:344)
	at freemarker.core.Environment.visit(Environment.java:350)
	at freemarker.core.Environment.process(Environment.java:323)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.processTemplate(FreeMarkerView.java:447)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.doRender(FreeMarkerView.java:351)
	at org.springframework.web.servlet.view.freemarker.FreeMarkerView.renderMergedTemplateModel(FreeMarkerView.java:302)
	at org.springframework.web.servlet.view.AbstractTemplateView.renderMergedOutputModel(AbstractTemplateView.java:181)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-09-26 12:01:09 ERROR o.s.b.a.w.s.e.ErrorMvcAutoConfiguration$StaticView - Cannot render error page for request [/auth/register] as the response has already been committed. As a result, the response may have the wrong status code.
2025-09-26 12:06:05 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 12:06:05 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 12:06:05 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 12:06:05 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 12:06:05 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 12:06:14 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 3284 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 12:06:14 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 12:06:16 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 12:06:16 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 76 ms. Found 6 JPA repository interfaces.
2025-09-26 12:06:17 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 12:06:17 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 12:06:17 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 12:06:17 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 12:06:17 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2531 ms
2025-09-26 12:06:17 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 12:06:18 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 12:06:18 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 12:06:18 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 12:06:18 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 12:06:18 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_create_authorities.yaml
2025-09-26 12:06:18 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_alter_roles_table.yaml
2025-09-26 12:06:18 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_user_table.yaml
2025-09-26 12:06:18 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_insert_auth_data.yaml
2025-09-26 12:06:18 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/006_insert_tables.yaml
2025-09-26 12:06:19 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 12:06:19 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 12:06:19 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 12:06:19 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 12:06:19 INFO  liquibase.util - Run:                          0
2025-09-26 12:06:19 INFO  liquibase.util - Previously run:               6
2025-09-26 12:06:19 INFO  liquibase.util - Filtered out:                 0
2025-09-26 12:06:19 INFO  liquibase.util - -------------------------------
2025-09-26 12:06:19 INFO  liquibase.util - Total change sets:            6
2025-09-26 12:06:19 INFO  liquibase.util - Update summary generated
2025-09-26 12:06:19 INFO  liquibase.command - Command execution complete
2025-09-26 12:06:19 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 12:06:19 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 12:06:19 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 12:06:19 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 12:06:19 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 12:06:21 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 12:06:21 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 12:06:21 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 12:06:21 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 12:06:22 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 12:06:22 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 9.531 seconds (process running for 13.872)
2025-09-26 12:06:36 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 12:20:09 WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m51s62ms).
2025-09-26 12:25:44 WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m34s892ms).
2025-09-26 12:56:16 WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=30m1s911ms).
2025-09-26 13:33:05 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 13:33:05 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 13:33:05 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 13:33:05 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 13:33:05 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 13:33:16 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 4502 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 13:33:16 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 13:33:17 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 13:33:18 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 71 ms. Found 6 JPA repository interfaces.
2025-09-26 13:33:18 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 13:33:18 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 13:33:18 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 13:33:18 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 13:33:18 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2178 ms
2025-09-26 13:33:19 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 13:33:19 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 13:33:19 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 13:33:19 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 13:33:20 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 13:33:20 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_create_authorities.yaml
2025-09-26 13:33:20 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_alter_roles_table.yaml
2025-09-26 13:33:20 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_user_table.yaml
2025-09-26 13:33:20 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_insert_auth_data.yaml
2025-09-26 13:33:20 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/006_insert_tables.yaml
2025-09-26 13:33:20 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 13:33:20 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 13:33:20 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 13:33:20 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 13:33:20 INFO  liquibase.util - Run:                          0
2025-09-26 13:33:20 INFO  liquibase.util - Previously run:               6
2025-09-26 13:33:20 INFO  liquibase.util - Filtered out:                 0
2025-09-26 13:33:20 INFO  liquibase.util - -------------------------------
2025-09-26 13:33:20 INFO  liquibase.util - Total change sets:            6
2025-09-26 13:33:20 INFO  liquibase.util - Update summary generated
2025-09-26 13:33:20 INFO  liquibase.command - Command execution complete
2025-09-26 13:33:20 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 13:33:20 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 13:33:20 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 13:33:21 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 13:33:21 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 13:33:23 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 13:33:23 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 13:33:23 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 13:33:24 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 13:33:25 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 13:33:25 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 9.842 seconds (process running for 11.595)
2025-09-26 13:33:31 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 13:34:08 WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 23505, SQLState: 23505
2025-09-26 13:34:08 ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.USERS(ID) ( /* key:0 */ CAST(1 AS BIGINT), 'Admin User', 'Bishkek', 'AA1234567', 'TICKET-001', '$2a$12$WB2YUbFcCN0tm44SBcKUjua9yiFBsfB3vW02IjuwzY7HGtlQIKzy2', CAST(1 AS BIGINT), TRUE)"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.USERS(ID) ( /* key:0 */ CAST(1 AS BIGINT), 'Admin User', 'Bishkek', 'AA1234567', 'TICKET-001', '$2a$12$WB2YUbFcCN0tm44SBcKUjua9yiFBsfB3vW02IjuwzY7HGtlQIKzy2', CAST(1 AS BIGINT), TRUE)"; SQL statement:
insert into users (address,enabled,full_name,passport_number,password,role_id,ticket_number,id) values (?,?,?,?,?,?,?,default) [23505-232]
2025-09-26 13:34:08 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataIntegrityViolationException: could not execute statement [Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.USERS(ID) ( /* key:0 */ CAST(1 AS BIGINT), 'Admin User', 'Bishkek', 'AA1234567', 'TICKET-001', '$2a$12$WB2YUbFcCN0tm44SBcKUjua9yiFBsfB3vW02IjuwzY7HGtlQIKzy2', CAST(1 AS BIGINT), TRUE)"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.USERS(ID) ( /* key:0 */ CAST(1 AS BIGINT), 'Admin User', 'Bishkek', 'AA1234567', 'TICKET-001', '$2a$12$WB2YUbFcCN0tm44SBcKUjua9yiFBsfB3vW02IjuwzY7HGtlQIKzy2', CAST(1 AS BIGINT), TRUE)"; SQL statement:
insert into users (address,enabled,full_name,passport_number,password,role_id,ticket_number,id) values (?,?,?,?,?,?,?,default) [23505-232]] [insert into users (address,enabled,full_name,passport_number,password,role_id,ticket_number,id) values (?,?,?,?,?,?,?,default)]; SQL [insert into users (address,enabled,full_name,passport_number,password,role_id,ticket_number,id) values (?,?,?,?,?,?,?,default)]; constraint [PRIMARY KEY]] with root cause
org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.USERS(ID) ( /* key:0 */ CAST(1 AS BIGINT), 'Admin User', 'Bishkek', 'AA1234567', 'TICKET-001', '$2a$12$WB2YUbFcCN0tm44SBcKUjua9yiFBsfB3vW02IjuwzY7HGtlQIKzy2', CAST(1 AS BIGINT), TRUE)"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.USERS(ID) ( /* key:0 */ CAST(1 AS BIGINT), 'Admin User', 'Bishkek', 'AA1234567', 'TICKET-001', '$2a$12$WB2YUbFcCN0tm44SBcKUjua9yiFBsfB3vW02IjuwzY7HGtlQIKzy2', CAST(1 AS BIGINT), TRUE)"; SQL statement:
insert into users (address,enabled,full_name,passport_number,password,role_id,ticket_number,id) values (?,?,?,?,?,?,?,default) [23505-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.mvstore.db.MVPrimaryIndex.add(MVPrimaryIndex.java:121)
	at org.h2.mvstore.db.MVTable.addRow(MVTable.java:517)
	at org.h2.command.dml.Insert.insertRows(Insert.java:174)
	at org.h2.command.dml.Insert.update(Insert.java:135)
	at org.h2.command.CommandContainer.executeUpdateWithGeneratedKeys(CommandContainer.java:212)
	at org.h2.command.CommandContainer.update(CommandContainer.java:133)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:394)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:308)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy2/jdk.proxy2.$Proxy129.persist(Unknown Source)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy2/jdk.proxy2.$Proxy129.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:654)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAndFlush(SimpleJpaRepository.java:665)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy133.saveAndFlush(Unknown Source)
	at kg.attractor.library.service.impl.UserServiceImpl.createUser(UserServiceImpl.java:28)
	at kg.attractor.library.controller.AuthController.register(AuthController.java:48)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:134)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-09-26 13:37:03 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 13:37:03 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 13:37:03 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 13:37:03 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 13:37:03 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 13:37:14 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 4599 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 13:37:14 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 13:37:16 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 13:37:16 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 117 ms. Found 6 JPA repository interfaces.
2025-09-26 13:37:18 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 13:37:18 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 13:37:18 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 13:37:18 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 13:37:18 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3585 ms
2025-09-26 13:37:18 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 13:37:19 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 13:37:19 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 13:37:19 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 13:37:19 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 13:37:19 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_create_authorities.yaml
2025-09-26 13:37:19 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_alter_roles_table.yaml
2025-09-26 13:37:19 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_user_table.yaml
2025-09-26 13:37:19 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_insert_auth_data.yaml
2025-09-26 13:37:19 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/006_insert_tables.yaml
2025-09-26 13:37:20 INFO  liquibase.changelog - Creating database history table with name: PUBLIC.DATABASECHANGELOG
2025-09-26 13:37:20 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 13:37:20 INFO  liquibase.lockservice - Successfully acquired change log lock
2025-09-26 13:37:20 INFO  liquibase.command - Using deploymentId: 8872240567
2025-09-26 13:37:20 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 13:37:20 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/001_create_tables.yaml::001_create_tables::A-K-I-V-I
2025-09-26 13:37:20 INFO  liquibase.changelog - Table roles created
2025-09-26 13:37:20 INFO  liquibase.changelog - Table users created
2025-09-26 13:37:20 INFO  liquibase.changelog - Foreign key constraint added to users (role_id)
2025-09-26 13:37:20 INFO  liquibase.changelog - Table categories created
2025-09-26 13:37:20 INFO  liquibase.changelog - Table books created
2025-09-26 13:37:20 INFO  liquibase.changelog - Foreign key constraint added to books (category_id)
2025-09-26 13:37:20 INFO  liquibase.changelog - Table images created
2025-09-26 13:37:20 INFO  liquibase.changelog - Foreign key constraint added to images (book_id)
2025-09-26 13:37:20 INFO  liquibase.changelog - Table request created
2025-09-26 13:37:20 INFO  liquibase.changelog - Foreign key constraint added to request (user_id)
2025-09-26 13:37:20 INFO  liquibase.changelog - Foreign key constraint added to request (book_id)
2025-09-26 13:37:20 INFO  liquibase.changelog - ChangeSet db/changelog/migrations/001_create_tables.yaml::001_create_tables::A-K-I-V-I ran successfully in 78ms
2025-09-26 13:37:20 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/002_create_authorities.yaml::002_create_authorities::a-k-i-v-i
2025-09-26 13:37:20 INFO  liquibase.changelog - Table authorities created
2025-09-26 13:37:20 INFO  liquibase.changelog - ChangeSet db/changelog/migrations/002_create_authorities.yaml::002_create_authorities::a-k-i-v-i ran successfully in 9ms
2025-09-26 13:37:20 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/003_alter_roles_table.yaml::003_alter_roles_table::admin
2025-09-26 13:37:20 INFO  liquibase.changelog - Columns authority_id(long) added to roles
2025-09-26 13:37:20 INFO  liquibase.changelog - ChangeSet db/changelog/migrations/003_alter_roles_table.yaml::003_alter_roles_table::admin ran successfully in 33ms
2025-09-26 13:37:20 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/004_alter_user_table.yaml::004_alter_user_table::A-K-I-V-I
2025-09-26 13:37:20 INFO  liquibase.changelog - Columns enabled(boolean) added to users
2025-09-26 13:37:20 INFO  liquibase.changelog - ChangeSet db/changelog/migrations/004_alter_user_table.yaml::004_alter_user_table::A-K-I-V-I ran successfully in 17ms
2025-09-26 13:37:20 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/005_insert_auth_data.yaml::005_insert_auth_data::a-k-i-v-i
2025-09-26 13:37:20 INFO  liquibase.changelog - Custom SQL executed
2025-09-26 13:37:20 INFO  liquibase.changelog - Custom SQL executed
2025-09-26 13:37:20 INFO  liquibase.changelog - ChangeSet db/changelog/migrations/005_insert_auth_data.yaml::005_insert_auth_data::a-k-i-v-i ran successfully in 20ms
2025-09-26 13:37:21 INFO  liquibase.ui - Running Changeset: db/changelog/migrations/006_insert_tables.yaml::006_insert_initial_data::A-K-I-V-I
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into users
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into users
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into categories
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into books
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - New row inserted into images
2025-09-26 13:37:21 INFO  liquibase.changelog - ChangeSet db/changelog/migrations/006_insert_tables.yaml::006_insert_initial_data::A-K-I-V-I ran successfully in 166ms
2025-09-26 13:37:21 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 13:37:21 INFO  liquibase.util - Run:                          6
2025-09-26 13:37:21 INFO  liquibase.util - Previously run:               0
2025-09-26 13:37:21 INFO  liquibase.util - Filtered out:                 0
2025-09-26 13:37:21 INFO  liquibase.util - -------------------------------
2025-09-26 13:37:21 INFO  liquibase.util - Total change sets:            6
2025-09-26 13:37:21 INFO  liquibase.util - Update summary generated
2025-09-26 13:37:21 INFO  liquibase.command - Update command completed successfully.
2025-09-26 13:37:21 INFO  liquibase.ui - Liquibase: Update has been successful. Rows affected: 84
2025-09-26 13:37:21 INFO  liquibase.lockservice - Successfully released change log lock
2025-09-26 13:37:21 INFO  liquibase.command - Command execution complete
2025-09-26 13:37:21 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 13:37:21 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 13:37:21 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 13:37:23 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 13:37:23 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 13:37:26 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 13:37:26 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 13:37:26 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 13:37:27 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 13:37:27 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 13:37:27 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 15.34 seconds (process running for 21.295)
2025-09-26 13:39:01 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 13:45:29 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 13:45:29 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 13:45:29 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 13:45:29 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 13:45:29 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 13:45:44 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 4788 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 13:45:44 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 13:45:46 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 13:45:46 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 87 ms. Found 6 JPA repository interfaces.
2025-09-26 13:45:47 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 13:45:47 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 13:45:47 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 13:45:47 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 13:45:47 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2869 ms
2025-09-26 13:45:47 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 13:45:48 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 13:45:48 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 13:45:48 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 13:45:49 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 13:45:49 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_create_authorities.yaml
2025-09-26 13:45:49 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_alter_roles_table.yaml
2025-09-26 13:45:49 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_user_table.yaml
2025-09-26 13:45:49 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_insert_auth_data.yaml
2025-09-26 13:45:49 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/006_insert_tables.yaml
2025-09-26 13:45:49 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 13:45:49 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 13:45:49 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 13:45:49 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 13:45:49 INFO  liquibase.util - Run:                          0
2025-09-26 13:45:49 INFO  liquibase.util - Previously run:               6
2025-09-26 13:45:49 INFO  liquibase.util - Filtered out:                 0
2025-09-26 13:45:49 INFO  liquibase.util - -------------------------------
2025-09-26 13:45:49 INFO  liquibase.util - Total change sets:            6
2025-09-26 13:45:49 INFO  liquibase.util - Update summary generated
2025-09-26 13:45:49 INFO  liquibase.command - Command execution complete
2025-09-26 13:45:49 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 13:45:49 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 13:45:49 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 13:45:50 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 13:45:50 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 13:45:52 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 13:45:52 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 13:45:53 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 13:45:53 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 13:45:54 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 13:45:54 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 12.637 seconds (process running for 15.074)
2025-09-26 13:46:01 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 13:47:55 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 13:47:55 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 13:47:55 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 13:47:55 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 13:47:55 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 13:48:05 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 4845 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 13:48:05 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 13:48:08 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 13:48:09 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 544 ms. Found 6 JPA repository interfaces.
2025-09-26 13:48:12 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 13:48:12 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 13:48:12 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 13:48:12 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 13:48:12 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 7294 ms
2025-09-26 13:48:13 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 13:48:15 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 13:48:15 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 13:48:15 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 13:48:16 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 13:48:16 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_create_authorities.yaml
2025-09-26 13:48:16 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_alter_roles_table.yaml
2025-09-26 13:48:16 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_user_table.yaml
2025-09-26 13:48:16 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_insert_auth_data.yaml
2025-09-26 13:48:16 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/006_insert_tables.yaml
2025-09-26 13:48:16 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 13:48:16 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 13:48:16 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 13:48:17 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 13:48:17 INFO  liquibase.util - Run:                          0
2025-09-26 13:48:17 INFO  liquibase.util - Previously run:               6
2025-09-26 13:48:17 INFO  liquibase.util - Filtered out:                 0
2025-09-26 13:48:17 INFO  liquibase.util - -------------------------------
2025-09-26 13:48:17 INFO  liquibase.util - Total change sets:            6
2025-09-26 13:48:17 INFO  liquibase.util - Update summary generated
2025-09-26 13:48:17 INFO  liquibase.command - Command execution complete
2025-09-26 13:48:17 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 13:48:17 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 13:48:17 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 13:48:18 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 13:48:18 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 13:48:22 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 13:48:22 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 13:48:23 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 13:48:25 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 13:48:27 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 13:48:27 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 26.172 seconds (process running for 28.454)
2025-09-26 13:48:32 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 13:48:59 WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 23505, SQLState: 23505
2025-09-26 13:48:59 ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Нарушение уникального индекса или первичного ключа: "PUBLIC.CONSTRAINT_4_INDEX_6 ON PUBLIC.USERS(PASSPORT_NUMBER NULLS FIRST) VALUES ( /* 3 */ '876355N' )"
Unique index or primary key violation: "PUBLIC.CONSTRAINT_4_INDEX_6 ON PUBLIC.USERS(PASSPORT_NUMBER NULLS FIRST) VALUES ( /* 3 */ '876355N' )"; SQL statement:
insert into users (address,enabled,full_name,passport_number,password,role_id,ticket_number,id) values (?,?,?,?,?,?,?,default) [23505-232]
2025-09-26 13:48:59 ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataIntegrityViolationException: could not execute statement [Нарушение уникального индекса или первичного ключа: "PUBLIC.CONSTRAINT_4_INDEX_6 ON PUBLIC.USERS(PASSPORT_NUMBER NULLS FIRST) VALUES ( /* 3 */ '876355N' )"
Unique index or primary key violation: "PUBLIC.CONSTRAINT_4_INDEX_6 ON PUBLIC.USERS(PASSPORT_NUMBER NULLS FIRST) VALUES ( /* 3 */ '876355N' )"; SQL statement:
insert into users (address,enabled,full_name,passport_number,password,role_id,ticket_number,id) values (?,?,?,?,?,?,?,default) [23505-232]] [insert into users (address,enabled,full_name,passport_number,password,role_id,ticket_number,id) values (?,?,?,?,?,?,?,default)]; SQL [insert into users (address,enabled,full_name,passport_number,password,role_id,ticket_number,id) values (?,?,?,?,?,?,?,default)]; constraint [PUBLIC.CONSTRAINT_4_INDEX_6]] with root cause
org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Нарушение уникального индекса или первичного ключа: "PUBLIC.CONSTRAINT_4_INDEX_6 ON PUBLIC.USERS(PASSPORT_NUMBER NULLS FIRST) VALUES ( /* 3 */ '876355N' )"
Unique index or primary key violation: "PUBLIC.CONSTRAINT_4_INDEX_6 ON PUBLIC.USERS(PASSPORT_NUMBER NULLS FIRST) VALUES ( /* 3 */ '876355N' )"; SQL statement:
insert into users (address,enabled,full_name,passport_number,password,role_id,ticket_number,id) values (?,?,?,?,?,?,?,default) [23505-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:520)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.index.Index.getDuplicateKeyException(Index.java:523)
	at org.h2.mvstore.db.MVSecondaryIndex.checkUnique(MVSecondaryIndex.java:223)
	at org.h2.mvstore.db.MVSecondaryIndex.add(MVSecondaryIndex.java:184)
	at org.h2.mvstore.db.MVTable.addRow(MVTable.java:517)
	at org.h2.command.dml.Insert.insertRows(Insert.java:174)
	at org.h2.command.dml.Insert.update(Insert.java:135)
	at org.h2.command.CommandContainer.executeUpdateWithGeneratedKeys(CommandContainer.java:212)
	at org.h2.command.CommandContainer.update(CommandContainer.java:133)
	at org.h2.command.Command.executeUpdate(Command.java:304)
	at org.h2.command.Command.executeUpdate(Command.java:248)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:213)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:172)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:394)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:308)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy2/jdk.proxy2.$Proxy129.persist(Unknown Source)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy2/jdk.proxy2.$Proxy129.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:654)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAndFlush(SimpleJpaRepository.java:665)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy133.saveAndFlush(Unknown Source)
	at kg.attractor.library.service.impl.UserServiceImpl.createUser(UserServiceImpl.java:30)
	at kg.attractor.library.controller.AuthController.register(AuthController.java:48)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:134)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.ForceEagerSessionCreationFilter.doFilterInternal(ForceEagerSessionCreationFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-09-26 13:56:43 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 13:56:43 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 13:56:43 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 13:56:43 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 13:56:43 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 13:56:54 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 5045 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 13:56:54 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 13:56:56 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 13:56:57 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 155 ms. Found 6 JPA repository interfaces.
2025-09-26 13:56:58 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 13:56:58 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 13:56:58 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 13:56:58 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 13:56:58 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3744 ms
2025-09-26 13:56:59 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 13:56:59 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 13:56:59 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 13:56:59 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 13:57:00 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 13:57:00 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_create_authorities.yaml
2025-09-26 13:57:00 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_alter_roles_table.yaml
2025-09-26 13:57:00 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_user_table.yaml
2025-09-26 13:57:00 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_insert_auth_data.yaml
2025-09-26 13:57:00 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/006_insert_tables.yaml
2025-09-26 13:57:00 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 13:57:00 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 13:57:00 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 13:57:00 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 13:57:00 INFO  liquibase.util - Run:                          0
2025-09-26 13:57:00 INFO  liquibase.util - Previously run:               6
2025-09-26 13:57:00 INFO  liquibase.util - Filtered out:                 0
2025-09-26 13:57:00 INFO  liquibase.util - -------------------------------
2025-09-26 13:57:00 INFO  liquibase.util - Total change sets:            6
2025-09-26 13:57:00 INFO  liquibase.util - Update summary generated
2025-09-26 13:57:00 INFO  liquibase.command - Command execution complete
2025-09-26 13:57:00 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 13:57:00 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 13:57:00 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 13:57:01 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 13:57:01 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 13:57:02 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 13:57:02 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 13:57:03 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 13:57:03 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 13:57:04 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 13:57:04 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 11.226 seconds (process running for 12.774)
2025-09-26 13:57:11 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 14:00:40 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 14:00:40 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 14:00:40 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 14:00:40 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 14:00:40 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 14:00:55 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 5130 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 14:00:55 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 14:00:58 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 14:00:59 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 214 ms. Found 6 JPA repository interfaces.
2025-09-26 14:01:00 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 14:01:00 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 14:01:00 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 14:01:00 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 14:01:00 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4875 ms
2025-09-26 14:01:01 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 14:01:02 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 14:01:02 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 14:01:03 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 14:01:03 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 14:01:04 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 14:01:04 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 14:01:04 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 14:01:06 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 14:01:06 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 14:01:06 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 14:01:06 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 14:01:07 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 14:01:07 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 14.761 seconds (process running for 17.024)
2025-09-26 14:01:07 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 14:01:07 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 14:01:07 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 14:01:07 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 14:01:08 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 14:01:17 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 5146 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 14:01:17 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 14:01:19 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 14:01:20 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 159 ms. Found 6 JPA repository interfaces.
2025-09-26 14:01:21 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 14:01:21 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 14:01:21 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 14:01:21 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 14:01:21 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3941 ms
2025-09-26 14:01:23 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 14:01:27 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 14:01:27 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 14:01:27 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 14:01:29 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 14:01:30 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_create_authorities.yaml
2025-09-26 14:01:30 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_alter_roles_table.yaml
2025-09-26 14:01:30 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_user_table.yaml
2025-09-26 14:01:30 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_insert_auth_data.yaml
2025-09-26 14:01:30 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/006_insert_tables.yaml
2025-09-26 14:01:31 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 14:01:32 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 14:01:32 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 14:01:32 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 14:01:32 INFO  liquibase.util - Run:                          0
2025-09-26 14:01:32 INFO  liquibase.util - Previously run:               6
2025-09-26 14:01:32 INFO  liquibase.util - Filtered out:                 0
2025-09-26 14:01:32 INFO  liquibase.util - -------------------------------
2025-09-26 14:01:32 INFO  liquibase.util - Total change sets:            6
2025-09-26 14:01:32 INFO  liquibase.util - Update summary generated
2025-09-26 14:01:32 INFO  liquibase.command - Command execution complete
2025-09-26 14:01:32 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 14:01:33 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 14:01:33 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 14:01:36 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 14:01:37 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 14:01:50 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 14:01:50 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 14:01:52 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 14:01:54 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 14:01:56 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 14:01:56 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 42.055 seconds (process running for 45.771)
2025-09-26 14:02:47 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 14:14:04 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 14:14:04 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 14:14:04 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 14:14:04 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 14:14:04 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 14:14:15 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 5494 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 14:14:15 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 14:14:17 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 14:14:17 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 232 ms. Found 6 JPA repository interfaces.
2025-09-26 14:14:18 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 14:14:18 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 14:14:18 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 14:14:18 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 14:14:18 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2789 ms
2025-09-26 14:14:18 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 14:14:19 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 14:14:19 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 14:14:19 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 14:14:20 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 14:14:20 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_create_authorities.yaml
2025-09-26 14:14:20 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_alter_roles_table.yaml
2025-09-26 14:14:20 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_user_table.yaml
2025-09-26 14:14:20 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_insert_auth_data.yaml
2025-09-26 14:14:20 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/006_insert_tables.yaml
2025-09-26 14:14:21 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 14:14:21 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 14:14:21 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 14:14:21 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 14:14:21 INFO  liquibase.util - Run:                          0
2025-09-26 14:14:21 INFO  liquibase.util - Previously run:               6
2025-09-26 14:14:21 INFO  liquibase.util - Filtered out:                 0
2025-09-26 14:14:21 INFO  liquibase.util - -------------------------------
2025-09-26 14:14:21 INFO  liquibase.util - Total change sets:            6
2025-09-26 14:14:21 INFO  liquibase.util - Update summary generated
2025-09-26 14:14:21 INFO  liquibase.command - Command execution complete
2025-09-26 14:14:21 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 14:14:22 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 14:14:22 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 14:14:23 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 14:14:23 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 14:14:26 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 14:14:26 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 14:14:27 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 14:14:27 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 14:14:28 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 14:14:28 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 15.317 seconds (process running for 17.312)
2025-09-26 14:14:36 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 14:19:34 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 14:19:34 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 14:19:34 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 14:19:34 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 14:19:34 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 14:19:46 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 5628 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 14:19:46 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 14:19:47 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 14:19:47 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 78 ms. Found 6 JPA repository interfaces.
2025-09-26 14:19:48 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 14:19:48 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 14:19:48 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 14:19:48 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 14:19:48 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2114 ms
2025-09-26 14:19:48 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 14:19:49 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 14:19:49 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 14:19:49 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 14:19:50 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 14:19:50 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_create_authorities.yaml
2025-09-26 14:19:50 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_alter_roles_table.yaml
2025-09-26 14:19:50 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_user_table.yaml
2025-09-26 14:19:50 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_insert_auth_data.yaml
2025-09-26 14:19:50 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/006_insert_tables.yaml
2025-09-26 14:19:50 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 14:19:50 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 14:19:50 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 14:19:50 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 14:19:50 INFO  liquibase.util - Run:                          0
2025-09-26 14:19:50 INFO  liquibase.util - Previously run:               6
2025-09-26 14:19:50 INFO  liquibase.util - Filtered out:                 0
2025-09-26 14:19:50 INFO  liquibase.util - -------------------------------
2025-09-26 14:19:50 INFO  liquibase.util - Total change sets:            6
2025-09-26 14:19:50 INFO  liquibase.util - Update summary generated
2025-09-26 14:19:50 INFO  liquibase.command - Command execution complete
2025-09-26 14:19:51 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 14:19:51 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 14:19:51 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 14:19:52 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 14:19:53 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 14:19:58 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 14:19:58 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 14:19:59 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 14:20:00 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 14:20:03 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 14:20:03 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 18.522 seconds (process running for 20.223)
2025-09-26 14:20:07 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 14:21:04 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 14:21:04 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 14:21:04 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 14:21:04 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 14:21:04 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 14:21:16 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 5665 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 14:21:16 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 14:21:20 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 14:21:20 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 249 ms. Found 6 JPA repository interfaces.
2025-09-26 14:21:21 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 14:21:21 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 14:21:21 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 14:21:22 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 14:21:22 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4947 ms
2025-09-26 14:21:22 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 14:21:23 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 14:21:23 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 14:21:23 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 14:21:23 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 14:21:23 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_create_authorities.yaml
2025-09-26 14:21:23 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_alter_roles_table.yaml
2025-09-26 14:21:23 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_user_table.yaml
2025-09-26 14:21:23 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_insert_auth_data.yaml
2025-09-26 14:21:23 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/006_insert_tables.yaml
2025-09-26 14:21:24 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 14:21:24 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 14:21:24 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 14:21:24 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 14:21:24 INFO  liquibase.util - Run:                          0
2025-09-26 14:21:24 INFO  liquibase.util - Previously run:               6
2025-09-26 14:21:24 INFO  liquibase.util - Filtered out:                 0
2025-09-26 14:21:24 INFO  liquibase.util - -------------------------------
2025-09-26 14:21:24 INFO  liquibase.util - Total change sets:            6
2025-09-26 14:21:24 INFO  liquibase.util - Update summary generated
2025-09-26 14:21:24 INFO  liquibase.command - Command execution complete
2025-09-26 14:21:24 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 14:21:24 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 14:21:24 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 14:21:25 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 14:21:25 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 14:21:26 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 14:21:26 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 14:21:27 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 14:21:27 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 14:21:28 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 14:21:28 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 15.289 seconds (process running for 19.475)
2025-09-26 14:21:38 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 14:36:41 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 14:36:41 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 14:36:41 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 14:36:41 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 14:36:41 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 14:36:52 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 6002 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 14:36:52 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 14:36:53 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 14:36:53 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 75 ms. Found 6 JPA repository interfaces.
2025-09-26 14:36:54 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 14:36:54 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 14:36:54 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 14:36:54 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 14:36:54 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1931 ms
2025-09-26 14:36:54 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 14:36:55 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 14:36:55 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 14:36:55 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 14:36:55 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 14:36:55 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_create_authorities.yaml
2025-09-26 14:36:55 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_alter_roles_table.yaml
2025-09-26 14:36:55 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_user_table.yaml
2025-09-26 14:36:55 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_insert_auth_data.yaml
2025-09-26 14:36:55 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/006_insert_tables.yaml
2025-09-26 14:36:55 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 14:36:56 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 14:36:56 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 14:36:56 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 14:36:56 INFO  liquibase.util - Run:                          0
2025-09-26 14:36:56 INFO  liquibase.util - Previously run:               6
2025-09-26 14:36:56 INFO  liquibase.util - Filtered out:                 0
2025-09-26 14:36:56 INFO  liquibase.util - -------------------------------
2025-09-26 14:36:56 INFO  liquibase.util - Total change sets:            6
2025-09-26 14:36:56 INFO  liquibase.util - Update summary generated
2025-09-26 14:36:56 INFO  liquibase.command - Command execution complete
2025-09-26 14:36:56 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 14:36:56 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 14:36:56 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 14:36:56 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 14:36:57 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 14:36:58 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 14:36:58 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 14:36:59 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 14:36:59 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 14:37:00 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 14:37:00 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 8.897 seconds (process running for 10.467)
2025-09-26 14:37:11 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 14:38:49 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 14:38:49 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 14:38:49 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 14:38:49 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 14:38:49 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 14:38:56 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 6062 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 14:38:56 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 14:38:57 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 14:38:57 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 69 ms. Found 6 JPA repository interfaces.
2025-09-26 14:38:58 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 14:38:58 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 14:38:58 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 14:38:58 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 14:38:58 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1763 ms
2025-09-26 14:38:58 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 14:38:59 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 14:38:59 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 14:38:59 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 14:38:59 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 14:38:59 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_create_authorities.yaml
2025-09-26 14:38:59 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_alter_roles_table.yaml
2025-09-26 14:38:59 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_user_table.yaml
2025-09-26 14:38:59 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_insert_auth_data.yaml
2025-09-26 14:38:59 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/006_insert_tables.yaml
2025-09-26 14:39:00 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 14:39:00 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 14:39:00 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 14:39:00 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 14:39:00 INFO  liquibase.util - Run:                          0
2025-09-26 14:39:00 INFO  liquibase.util - Previously run:               6
2025-09-26 14:39:00 INFO  liquibase.util - Filtered out:                 0
2025-09-26 14:39:00 INFO  liquibase.util - -------------------------------
2025-09-26 14:39:00 INFO  liquibase.util - Total change sets:            6
2025-09-26 14:39:00 INFO  liquibase.util - Update summary generated
2025-09-26 14:39:00 INFO  liquibase.command - Command execution complete
2025-09-26 14:39:00 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 14:39:00 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 14:39:00 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 14:39:00 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 14:39:00 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 14:39:02 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 14:39:02 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 14:39:02 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 14:39:03 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 14:39:03 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 14:39:03 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 8.093 seconds (process running for 9.372)
2025-09-26 14:39:09 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 14:40:32 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 14:40:32 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 14:40:33 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 14:40:33 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 14:40:33 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 14:40:41 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 6100 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 14:40:41 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 14:40:42 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 14:40:42 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 74 ms. Found 6 JPA repository interfaces.
2025-09-26 14:40:43 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 14:40:43 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 14:40:43 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 14:40:43 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 14:40:43 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2031 ms
2025-09-26 14:40:44 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 14:40:44 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 14:40:44 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 14:40:44 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 14:40:44 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 14:40:44 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_create_authorities.yaml
2025-09-26 14:40:44 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_alter_roles_table.yaml
2025-09-26 14:40:44 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_user_table.yaml
2025-09-26 14:40:44 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_insert_auth_data.yaml
2025-09-26 14:40:44 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/006_insert_tables.yaml
2025-09-26 14:40:45 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 14:40:45 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 14:40:45 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 14:40:45 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 14:40:45 INFO  liquibase.util - Run:                          0
2025-09-26 14:40:45 INFO  liquibase.util - Previously run:               6
2025-09-26 14:40:45 INFO  liquibase.util - Filtered out:                 0
2025-09-26 14:40:45 INFO  liquibase.util - -------------------------------
2025-09-26 14:40:45 INFO  liquibase.util - Total change sets:            6
2025-09-26 14:40:45 INFO  liquibase.util - Update summary generated
2025-09-26 14:40:45 INFO  liquibase.command - Command execution complete
2025-09-26 14:40:45 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 14:40:45 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 14:40:45 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 14:40:46 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 14:40:46 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 14:40:47 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 14:40:47 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 14:40:48 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 14:40:48 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 14:40:49 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 14:40:49 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 9.321 seconds (process running for 11.985)
2025-09-26 14:40:55 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 14:45:56 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 14:45:56 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 14:45:56 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 14:45:56 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 14:45:56 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 14:46:04 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 6210 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 14:46:04 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 14:46:06 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 14:46:06 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 98 ms. Found 6 JPA repository interfaces.
2025-09-26 14:46:07 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 14:46:07 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 14:46:07 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 14:46:07 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 14:46:07 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2416 ms
2025-09-26 14:46:07 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 14:46:08 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 14:46:08 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 14:46:08 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 14:46:08 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 14:46:09 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_create_authorities.yaml
2025-09-26 14:46:09 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_alter_roles_table.yaml
2025-09-26 14:46:09 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_user_table.yaml
2025-09-26 14:46:09 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_insert_auth_data.yaml
2025-09-26 14:46:09 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/006_insert_tables.yaml
2025-09-26 14:46:09 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 14:46:09 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 14:46:09 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 14:46:09 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 14:46:09 INFO  liquibase.util - Run:                          0
2025-09-26 14:46:09 INFO  liquibase.util - Previously run:               6
2025-09-26 14:46:09 INFO  liquibase.util - Filtered out:                 0
2025-09-26 14:46:09 INFO  liquibase.util - -------------------------------
2025-09-26 14:46:09 INFO  liquibase.util - Total change sets:            6
2025-09-26 14:46:09 INFO  liquibase.util - Update summary generated
2025-09-26 14:46:09 INFO  liquibase.command - Command execution complete
2025-09-26 14:46:09 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 14:46:10 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 14:46:10 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 14:46:10 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 14:46:11 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 14:46:12 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 14:46:12 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 14:46:13 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 14:46:13 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 14:46:14 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 14:46:14 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 10.107 seconds (process running for 11.439)
2025-09-26 14:46:22 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-26 14:49:23 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-26 14:49:23 INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-26 14:49:23 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 14:49:24 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-09-26 14:49:24 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-09-26 14:49:32 INFO  k.a.library.LibraryApplication - Starting LibraryApplication using Java 17.0.12 with PID 6298 (/Users/magnus/Desktop/Attractor/Library/target/classes started by magnus in /Users/magnus/Desktop/Attractor/Library)
2025-09-26 14:49:32 INFO  k.a.library.LibraryApplication - No active profile set, falling back to 1 default profile: "default"
2025-09-26 14:49:33 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-26 14:49:33 INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 77 ms. Found 6 JPA repository interfaces.
2025-09-26 14:49:34 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-26 14:49:34 INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-26 14:49:34 INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-26 14:49:34 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-26 14:49:34 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2006 ms
2025-09-26 14:49:34 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-26 14:49:34 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn1: url=jdbc:h2:./db/Library user=ROOT
2025-09-26 14:49:34 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-26 14:49:34 INFO  liquibase.database - Set default schema name to PUBLIC
2025-09-26 14:49:35 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/001_create_tables.yaml
2025-09-26 14:49:35 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/002_create_authorities.yaml
2025-09-26 14:49:35 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/003_alter_roles_table.yaml
2025-09-26 14:49:35 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/004_alter_user_table.yaml
2025-09-26 14:49:35 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/005_insert_auth_data.yaml
2025-09-26 14:49:35 INFO  liquibase.changelog - Reading resource: db/changelog/migrations/006_insert_tables.yaml
2025-09-26 14:49:35 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 14:49:35 INFO  liquibase.ui - Database is up to date, no changesets to execute
2025-09-26 14:49:35 INFO  liquibase.changelog - Reading from PUBLIC.DATABASECHANGELOG
2025-09-26 14:49:35 INFO  liquibase.util - UPDATE SUMMARY
2025-09-26 14:49:35 INFO  liquibase.util - Run:                          0
2025-09-26 14:49:35 INFO  liquibase.util - Previously run:               6
2025-09-26 14:49:35 INFO  liquibase.util - Filtered out:                 0
2025-09-26 14:49:35 INFO  liquibase.util - -------------------------------
2025-09-26 14:49:35 INFO  liquibase.util - Total change sets:            6
2025-09-26 14:49:35 INFO  liquibase.util - Update summary generated
2025-09-26 14:49:35 INFO  liquibase.command - Command execution complete
2025-09-26 14:49:35 INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-26 14:49:35 INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-26 14:49:35 INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-26 14:49:36 INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-26 14:49:36 INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-26 14:49:38 INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-26 14:49:38 INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-26 14:49:38 WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-26 14:49:38 INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-09-26 14:49:39 INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-09-26 14:49:39 INFO  k.a.library.LibraryApplication - Started LibraryApplication in 8.979 seconds (process running for 11.213)
2025-09-26 14:49:54 INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
